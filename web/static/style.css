/* Header */
header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 24px;
    border-bottom: 1px solid var(--border);
}

.logo {
    display: flex;
    align-items: baseline;
    gap: 12px;
}

.logo-text {
    font-size: 20px;
    font-weight: 600;
    letter-spacing: -0.02em;
}

.logo-subtitle {
    color: var(--text-3);
    font-size: 13px;
}

.status {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    font-size: 12px;
}

.status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--text-3);
}

.status-dot.connected {
    background: var(--success);
}

.status-dot.disconnected {
    background: var(--error);
}

.header-status-group {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* Extension Status */
#extension-status {
    cursor: help;
}

#extension-status-dot {
    background: var(--text-3);
}

#extension-status-dot.detected {
    background: var(--success);
}

#extension-status-dot.not-detected {
    background: var(--warning);
}

/* Tabs */
.tabs {
    display: flex;
    gap: 4px;
    padding: 12px 24px;
    border-bottom: 1px solid var(--border);
    background: var(--bg-1);
}

.tab {
    padding: 10px 20px;
    background: transparent;
    border: none;
    border-radius: 6px;
    color: var(--text-2);
    font-family: inherit;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s;
}

.tab:hover {
    background: var(--bg-3);
    color: var(--text-1);
}

.tab.active {
    background: var(--bg-3);
    color: var(--text-0);
}

/* Main Content */
main {
    padding: 24px;
    max-width: 1400px;
    margin: 0 auto;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

/* Global hidden class */
.hidden {
    display: none !important;
}

/* Panels */
.panel {
    background: var(--bg-1);
    border-radius: 8px;
    border: 1px solid var(--border);
    padding: 20px;
    margin-bottom: 16px;
}

.panel h2, .panel h3 {
    font-size: 12px;
    font-weight: 500;
    color: var(--text-3);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 16px;
}

.hint {
    color: var(--text-3);
    font-size: 13px;
}

/* Buttons */
.btn {
    padding: 10px 16px;
    background: var(--bg-3);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-1);
    font-family: inherit;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s;
}

.btn:hover {
    background: var(--bg-4);
    border-color: var(--border-light);
}

.btn.primary {
    background: var(--accent);
    border-color: var(--accent);
    color: var(--text-0);
}

.btn.primary:hover {
    opacity: 0.9;
}

.btn.small {
    padding: 6px 12px;
    font-size: 12px;
}

/* Disabled Button States */
.btn:disabled,
.btn[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

.btn.primary:disabled,
.btn.primary[disabled] {
    background: var(--accent);
    border-color: var(--accent);
    opacity: 0.5;
}

/* Copy Button */
.btn.copy-btn {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    min-width: 60px;
    justify-content: center;
    transition: all 0.15s ease;
}

.btn.copy-btn:hover {
    background: var(--bg-4);
    border-color: var(--accent);
}

.btn.copy-btn.copy-success {
    background: rgba(34, 197, 94, 0.15);
    border-color: var(--success);
    color: var(--success);
}

/* Input Group */
.input-group {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
}

.input-group input {
    flex: 1;
    padding: 10px 14px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-1);
    font-family: inherit;
    font-size: 14px;
}

.input-group input::placeholder {
    color: var(--text-3);
}

.input-group input:focus {
    outline: none;
    border-color: var(--border-light);
}

/* Relay Grid */
.relay-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 12px;
}

.relay-card {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
}

.relay-card.connected {
    border-left: 3px solid var(--success);
}

.relay-card.disconnected {
    border-left: 3px solid var(--error);
}

.relay-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.relay-url {
    font-family: 'Geist Mono', monospace;
    font-size: 13px;
    color: var(--text-1);
}

.relay-status {
    font-size: 11px;
    padding: 2px 8px;
    border-radius: 4px;
}

.relay-status.connected {
    background: rgba(34, 197, 94, 0.2);
    color: var(--success);
}

.relay-status.error {
    background: rgba(239, 68, 68, 0.2);
    color: var(--error);
}

.relay-stats {
    display: flex;
    gap: 16px;
    font-size: 12px;
    color: var(--text-2);
    margin-bottom: 8px;
}

.relay-error {
    font-size: 12px;
    color: var(--error);
    margin-bottom: 8px;
}

.relay-actions {
    display: flex;
    gap: 8px;
}

/* Relay metadata display (name, description, pubkey, contact) */
.relay-meta {
    margin-bottom: 10px;
    padding: 8px 10px;
    background: var(--bg-3);
    border-radius: 6px;
    border-left: 2px solid var(--accent);
}

.relay-meta-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-0);
    margin-bottom: 4px;
}

.relay-meta-description {
    font-size: 12px;
    color: var(--text-2);
    line-height: 1.4;
    margin-bottom: 6px;
}

.relay-meta-operator {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    font-size: 11px;
    color: var(--text-2);
}

.relay-meta-item {
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.relay-meta-icon {
    font-size: 12px;
    opacity: 0.7;
}

.relay-meta-item code {
    font-family: 'Geist Mono', monospace;
    font-size: 10px;
    background: var(--bg-2);
    padding: 1px 4px;
    border-radius: 3px;
}

/* Relay limitations summary */
.relay-meta-limits {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 8px;
    padding-top: 8px;
    border-top: 1px solid var(--bg-2);
}

.relay-limit-item {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: 11px;
    color: var(--text-1);
    background: var(--bg-2);
    padding: 3px 8px;
    border-radius: 4px;
}

.relay-limit-icon {
    font-size: 11px;
}

.relay-limit-auth {
    background: rgba(255, 193, 7, 0.15);
    color: #ffc107;
}

.relay-limit-payment {
    background: rgba(76, 175, 80, 0.15);
    color: #4caf50;
    text-decoration: none;
}

.relay-limit-payment:hover {
    background: rgba(76, 175, 80, 0.25);
}

.relay-limit-restricted {
    background: rgba(255, 152, 0, 0.15);
    color: #ff9800;
}

/* Payment section in modal */
.relay-payment-section {
    background: rgba(76, 175, 80, 0.08);
    border: 1px solid rgba(76, 175, 80, 0.2);
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 16px;
}

.relay-payment-section h4 {
    color: #4caf50;
    margin-bottom: 12px;
}

.payment-required-yes {
    color: #4caf50;
    font-weight: 600;
}

.payment-link {
    color: var(--accent);
    text-decoration: none;
    word-break: break-all;
}

.payment-link:hover {
    text-decoration: underline;
}

/* Legacy relay-name (kept for backwards compatibility) */
.relay-name {
    font-size: 12px;
    color: var(--text-1);
    margin-bottom: 4px;
    font-weight: 500;
}

/* Relay NIP badges */
.relay-nips {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
    flex-wrap: wrap;
}

.relay-nips-label {
    font-size: 11px;
    color: var(--text-2);
    flex-shrink: 0;
}

.relay-nips-list {
    display: flex;
    gap: 4px;
    flex-wrap: wrap;
}

.relay-nips-loading {
    font-size: 11px;
    color: var(--text-3);
    font-style: italic;
}

.nip-badge {
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 4px;
    background: var(--bg-3);
    color: var(--text-2);
    font-family: 'Geist Mono', monospace;
    font-weight: 500;
    text-decoration: none;
    transition: background-color 0.15s ease, color 0.15s ease;
}

a.nip-badge:hover {
    background: var(--accent);
    color: white;
}

.nip-badge.more {
    background: var(--accent);
    color: white;
    cursor: pointer;
}

/* Relay Info Modal */
.relay-info-modal {
    max-width: 500px;
}

.relay-info-modal h3 {
    margin: 0 0 8px 0;
    font-size: 18px;
    color: var(--text-0);
}

.relay-description {
    font-size: 13px;
    color: var(--text-2);
    margin-bottom: 16px;
    line-height: 1.5;
}

.relay-info-section {
    margin-bottom: 16px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--border);
}

.relay-info-section:last-of-type {
    border-bottom: none;
}

.relay-info-section h4 {
    margin: 0 0 8px 0;
    font-size: 13px;
    color: var(--text-1);
    font-weight: 600;
}

.relay-info-grid {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 4px 12px;
    font-size: 12px;
}

.relay-info-grid .label {
    color: var(--text-2);
}

.relay-info-grid .value {
    color: var(--text-1);
}

.relay-info-grid .value.success {
    color: var(--success);
}

.relay-info-grid .value.error {
    color: var(--error);
}

.relay-info-grid code {
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
    background: var(--bg-3);
    padding: 1px 4px;
    border-radius: 3px;
}

.relay-nips-full {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

.relay-nips-full .nip-badge {
    font-size: 11px;
    padding: 4px 8px;
}

.relay-info-actions {
    display: flex;
    justify-content: flex-end;
    margin-top: 16px;
}

/* Relay Info Panel (inline in card) */
.relay-info-panel {
    margin: 8px 0;
    padding: 12px;
    background: var(--bg-3);
    border-radius: 6px;
    border: 1px solid var(--border);
}

.relay-info-panel-content {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.relay-info-row {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.relay-info-label {
    font-size: 10px;
    font-weight: 600;
    color: var(--text-2);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.relay-info-value {
    font-size: 12px;
    color: var(--text-1);
    line-height: 1.4;
}

.relay-info-value code {
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
    background: var(--bg-2);
    padding: 1px 4px;
    border-radius: 3px;
}

.relay-limits {
    font-size: 11px;
    color: var(--text-2);
}

.relay-actions .btn.active {
    background: var(--accent);
    color: white;
}

/* Presets */
.presets {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--text-2);
}

/* Event Stream */
.event-stream {
    max-height: 600px;
    overflow-y: auto;
    padding: 4px;
}

.event-card {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 14px;
    margin-bottom: 8px;
}

.event-card .event-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
}

.event-kind {
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
    padding: 2px 8px;
    background: var(--bg-3);
    border-radius: 4px;
    color: var(--accent);
}

.event-time {
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
    color: var(--text-3);
    margin-left: auto;
}

.event-id, .event-author {
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--text-3);
    margin-bottom: 4px;
}

.event-id .copy-btn, .event-author .copy-btn {
    padding: 2px 8px;
    font-size: 10px;
    min-width: auto;
}

.event-content {
    font-size: 13px;
    color: var(--text-2);
    margin: 8px 0;
    word-break: break-word;
}

.event-relay {
    font-size: 11px;
    color: var(--text-3);
}

.event-actions {
    margin-top: 8px;
}

/* Collapsible Tags Section */
.event-tags-section {
    margin: 8px 0;
    border: 1px solid var(--border);
    border-radius: 6px;
    overflow: hidden;
}

.tags-toggle-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    width: 100%;
    padding: 8px 12px;
    background: var(--bg-3);
    border: none;
    color: var(--text-2);
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    cursor: pointer;
    text-align: left;
    transition: background 0.15s ease;
}

.tags-toggle-btn:hover {
    background: var(--bg-4);
}

.tags-toggle-icon {
    font-size: 10px;
    color: var(--text-3);
    transition: transform 0.2s ease;
    display: inline-block;
    width: 12px;
}

.event-tags-section.expanded .tags-toggle-icon {
    transform: rotate(90deg);
}

.tags-toggle-label {
    color: var(--text-2);
}

.tags-content {
    display: none;
    padding: 8px;
    background: var(--bg-1);
    max-height: 200px;
    overflow-y: auto;
}

.event-tags-section.expanded .tags-content {
    display: block;
}

.tag-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 8px;
    margin-bottom: 4px;
    background: var(--bg-2);
    border-radius: 4px;
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
    flex-wrap: wrap;
}

.tag-item:last-child {
    margin-bottom: 0;
}

.tag-name {
    font-weight: 600;
    color: var(--accent);
    padding: 2px 6px;
    background: var(--bg-3);
    border-radius: 3px;
    flex-shrink: 0;
}

.tag-value {
    color: var(--text-2);
    word-break: break-all;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.tag-copy-btn {
    margin-left: auto;
    padding: 2px 6px !important;
    font-size: 9px !important;
    min-width: auto !important;
    flex-shrink: 0;
}

/* Tag type colors */
.tag-event-ref .tag-name {
    color: #f59e0b;
    background: rgba(245, 158, 11, 0.15);
}

.tag-pubkey-ref .tag-name {
    color: #8b5cf6;
    background: rgba(139, 92, 246, 0.15);
}

.tag-hashtag .tag-name {
    color: #10b981;
    background: rgba(16, 185, 129, 0.15);
}

.tag-address .tag-name {
    color: #ec4899;
    background: rgba(236, 72, 153, 0.15);
}

.tag-identifier .tag-name {
    color: #06b6d4;
    background: rgba(6, 182, 212, 0.15);
}

.tag-reference .tag-name {
    color: #f97316;
    background: rgba(249, 115, 22, 0.15);
}

.tag-lightning .tag-name {
    color: #facc15;
    background: rgba(250, 204, 21, 0.15);
}

.tag-amount .tag-name {
    color: #22c55e;
    background: rgba(34, 197, 94, 0.15);
}

.tag-relay .tag-name {
    color: #6366f1;
    background: rgba(99, 102, 241, 0.15);
}

.tag-expiration .tag-name {
    color: #ef4444;
    background: rgba(239, 68, 68, 0.15);
}

.tag-subject .tag-name {
    color: #14b8a6;
    background: rgba(20, 184, 166, 0.15);
}

.tag-warning .tag-name {
    color: #f43f5e;
    background: rgba(244, 63, 94, 0.15);
}

.tag-client .tag-name {
    color: #a855f7;
    background: rgba(168, 85, 247, 0.15);
}

.tag-default .tag-name {
    color: var(--text-2);
    background: var(--bg-3);
}

/* Filters - Legacy */
.filters {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}

.filters input {
    padding: 8px 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-1);
    font-family: inherit;
    font-size: 13px;
    width: 180px;
}

.filters input::placeholder {
    color: var(--text-3);
}

/* Query Builder */
.query-builder {
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 12px;
}

.query-builder-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-bottom: 12px;
}

.query-builder-row:last-of-type {
    margin-bottom: 16px;
}

.query-builder-field {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.query-builder-field label {
    font-size: 12px;
    font-weight: 500;
    color: var(--text-2);
    margin-bottom: 2px;
}

.query-builder-field .form-input {
    padding: 8px 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-1);
    font-family: inherit;
    font-size: 13px;
}

.query-builder-field .form-input:focus {
    outline: none;
    border-color: var(--accent);
}

.query-builder-field .form-input::placeholder {
    color: var(--text-3);
}

.query-builder-field .field-hint {
    font-size: 11px;
    color: var(--text-3);
}

.query-builder-field-limit {
    max-width: 120px;
}

.query-builder-field input[type="datetime-local"] {
    color-scheme: dark;
}

.query-builder-actions {
    display: flex;
    align-items: center;
    gap: 8px;
    padding-top: 4px;
    border-top: 1px solid var(--border);
}

.query-builder-checkbox {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-left: auto;
    font-size: 13px;
    color: var(--text-2);
    cursor: pointer;
}

.query-builder-checkbox input[type="checkbox"] {
    cursor: pointer;
}

.event-controls {
    display: flex;
    align-items: center;
    gap: 16px;
    font-size: 13px;
    color: var(--text-2);
}

.event-controls label {
    display: flex;
    align-items: center;
    gap: 6px;
}

/* Testing Tab */
.testing-layout {
    display: grid;
    grid-template-columns: 250px 1fr 280px;
    gap: 16px;
}

.nip-list {
    max-height: 600px;
    overflow-y: auto;
}

/* NIP Cards */
.nip-card {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    margin-bottom: 8px;
    transition: all 0.15s ease;
    overflow: hidden;
}

.nip-card:hover {
    border-color: var(--bg-4);
}

.nip-card.selected {
    border-color: var(--accent);
    background: var(--bg-3);
}

.nip-card.expanded {
    border-color: var(--bg-4);
}

.nip-card-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    padding: 12px;
    cursor: pointer;
    gap: 8px;
}

.nip-card-header:hover {
    background: var(--bg-3);
}

.nip-card.selected .nip-card-header:hover {
    background: transparent;
}

.nip-card-main {
    flex: 1;
    min-width: 0;
}

.nip-card-title-row {
    display: flex;
    align-items: baseline;
    gap: 8px;
    flex-wrap: wrap;
}

.nip-card-name {
    font-family: 'Geist Mono', monospace;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-1);
    white-space: nowrap;
}

.nip-card-title {
    font-size: 12px;
    color: var(--text-3);
}

.nip-card-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 6px;
    flex-wrap: wrap;
}

.nip-card-meta .category-badge {
    margin-top: 0;
}

.nip-card-examples-count {
    font-size: 10px;
    color: var(--text-3);
    background: var(--bg-3);
    padding: 2px 6px;
    border-radius: 4px;
}

.nip-card-expand-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border: none;
    background: var(--bg-3);
    border-radius: 4px;
    cursor: pointer;
    color: var(--text-3);
    transition: all 0.15s ease;
    flex-shrink: 0;
}

.nip-card-expand-btn:hover {
    background: var(--bg-4);
    color: var(--text-1);
}

.nip-card-expand-btn svg {
    transition: transform 0.2s ease;
}

.nip-card-expand-btn.expanded svg {
    transform: rotate(180deg);
}

/* Expanded card content */
.nip-card-expanded {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.25s ease-out, padding 0.25s ease-out;
    background: var(--bg-1);
    border-top: 1px solid transparent;
}

.nip-card-expanded.visible {
    max-height: 300px;
    padding: 12px;
    border-top-color: var(--border);
}

.nip-card-section-label {
    font-size: 11px;
    color: var(--text-3);
    font-weight: 500;
    margin-right: 6px;
}

.nip-card-kinds {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 4px;
    margin-bottom: 10px;
}

.nip-card-kind-badge {
    font-family: 'Geist Mono', monospace;
    font-size: 10px;
    color: var(--accent);
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.2);
    padding: 2px 6px;
    border-radius: 4px;
    cursor: default;
}

.nip-card-kind-badge:hover {
    background: rgba(59, 130, 246, 0.15);
}

.nip-card-related {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 4px;
    margin-bottom: 10px;
}

.nip-card-related-link {
    font-size: 10px;
    font-weight: 500;
    color: var(--text-2);
    background: var(--bg-3);
    border: 1px solid var(--border);
    padding: 2px 6px;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.15s ease;
}

.nip-card-related-link:hover {
    background: var(--bg-4);
    border-color: var(--accent);
    color: var(--accent);
}

.nip-card-examples-preview {
    display: flex;
    align-items: flex-start;
    gap: 4px;
    margin-bottom: 10px;
}

.nip-card-examples-list {
    font-size: 11px;
    color: var(--text-2);
    line-height: 1.4;
}

.nip-card-spec-link {
    display: inline-flex;
    align-items: center;
    font-size: 11px;
    color: var(--accent);
    text-decoration: none;
    transition: color 0.15s ease;
}

.nip-card-spec-link:hover {
    color: var(--text-1);
    text-decoration: underline;
}

/* Category Badges */
.category-badge {
    display: inline-block;
    font-size: 10px;
    font-weight: 500;
    padding: 2px 6px;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-top: 4px;
}

.category-badge.core {
    background: rgba(59, 130, 246, 0.15);
    color: #60a5fa;
}

.category-badge.identity {
    background: rgba(168, 85, 247, 0.15);
    color: #c084fc;
}

.category-badge.encoding {
    background: rgba(34, 197, 94, 0.15);
    color: #4ade80;
}

.category-badge.encryption {
    background: rgba(234, 179, 8, 0.15);
    color: #facc15;
}

.category-badge.payments {
    background: rgba(249, 115, 22, 0.15);
    color: #fb923c;
}

.category-badge.dvms {
    background: rgba(236, 72, 153, 0.15);
    color: #f472b6;
}

.category-badge.social {
    background: rgba(20, 184, 166, 0.15);
    color: #2dd4bf;
}

.test-detail h3 {
    color: var(--text-1);
    font-size: 16px;
    text-transform: none;
    letter-spacing: normal;
    margin-bottom: 8px;
}

.nip-description {
    font-size: 13px;
    color: var(--text-2);
    margin-bottom: 12px;
}

/* Event Kinds Display */
.event-kinds {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 12px;
}

.event-kinds-label {
    font-size: 12px;
    color: var(--text-3);
}

.event-kind-badge {
    display: inline-block;
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
    font-weight: 500;
    padding: 3px 8px;
    background: rgba(59, 130, 246, 0.1);
    color: #60a5fa;
    border: 1px solid rgba(59, 130, 246, 0.25);
    border-radius: 4px;
    cursor: default;
}

.event-kind-badge:hover {
    background: rgba(59, 130, 246, 0.2);
    border-color: rgba(59, 130, 246, 0.4);
}

.related-nips {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 12px;
}

.related-nips-label {
    font-size: 12px;
    color: var(--text-3);
}

.related-nip-link {
    display: inline-block;
    font-size: 11px;
    font-weight: 500;
    padding: 3px 8px;
    background: var(--bg-3);
    color: var(--text-1);
    border: 1px solid var(--border);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.15s ease;
}

.related-nip-link:hover {
    background: var(--bg-4);
    border-color: var(--accent);
    color: var(--accent);
}

/* Example Events Section */
.example-events-section {
    margin-bottom: 16px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
}

.example-events-toggle {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 14px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
    color: var(--text-1);
    transition: background 0.15s ease;
}

.example-events-toggle:hover {
    background: var(--bg-3);
}

.example-events-toggle span {
    display: flex;
    align-items: center;
    gap: 8px;
}

.example-events-section[open] .example-events-toggle {
    border-bottom: 1px solid var(--border);
}

.example-events-content {
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.example-event {
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 6px;
    overflow: hidden;
}

.example-event-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 12px;
    background: var(--bg-2);
    border-bottom: 1px solid var(--border);
}

.example-event-description {
    font-size: 12px;
    font-weight: 500;
    color: var(--text-2);
}

.example-event-json {
    margin: 0;
    padding: 12px;
    overflow-x: auto;
    background: var(--bg-0);
    font-size: 11px;
    line-height: 1.5;
}

.example-event-json code {
    font-family: 'Geist Mono', 'JetBrains Mono', monospace;
    color: var(--text-1);
    white-space: pre;
}

.spec-link {
    display: inline-block;
    color: var(--accent);
    text-decoration: none;
    font-size: 12px;
    margin-bottom: 16px;
}

.spec-link:hover {
    text-decoration: underline;
}

.form-group {
    margin-bottom: 16px;
}

.form-group label {
    display: block;
    font-size: 13px;
    color: var(--text-2);
    margin-bottom: 6px;
}

.form-group input[type="text"],
.form-group input[type="number"],
.form-group input[type="password"] {
    width: 100%;
    padding: 10px 14px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-1);
    font-family: inherit;
    font-size: 14px;
}

.form-group input[type="text"]:focus,
.form-group input[type="number"]:focus,
.form-group input[type="password"]:focus {
    border-color: var(--accent);
    outline: none;
}

/* Signing Mode Section */
.signing-mode-section {
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    background: var(--bg-1);
    margin-bottom: 20px;
}

.signing-mode-section > label {
    font-weight: 500;
    color: var(--text-1);
    margin-bottom: 12px;
}

.signing-mode-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.radio-option {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 8px;
    padding: 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    transition: border-color 0.15s ease;
}

.radio-option:hover {
    border-color: var(--border-light);
}

.radio-option:has(input:checked) {
    border-color: var(--accent);
    background: rgba(59, 130, 246, 0.05);
}

.radio-option.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.radio-option input[type="radio"] {
    width: 16px;
    height: 16px;
    accent-color: var(--accent);
    cursor: pointer;
}

.radio-option input[type="radio"]:disabled {
    cursor: not-allowed;
}

.radio-label {
    font-weight: 500;
    color: var(--text-1);
}

.radio-description {
    flex-basis: 100%;
    margin-left: 24px;
    font-size: 12px;
    color: var(--text-3);
}

/* Key Input Row */
.key-input-row {
    display: flex;
    gap: 8px;
}

.key-input-row input {
    flex: 1;
    font-family: 'Geist Mono', monospace;
}

.key-input-row .btn {
    flex-shrink: 0;
}

/* Warning hint */
.hint.warning {
    color: var(--warning);
    background: rgba(234, 179, 8, 0.1);
    padding: 8px 12px;
    border-radius: 4px;
    margin-top: 8px;
}

/* Info message */
.info {
    color: var(--accent);
    padding: 12px 16px;
    background: rgba(59, 130, 246, 0.1);
    border-radius: 6px;
    border: 1px solid var(--accent);
}

/* Test Results */
.test-result {
    margin-top: 20px;
    padding: 16px;
    border-radius: 8px;
    border: 1px solid var(--border);
}

.test-result.success {
    border-color: var(--success);
    background: rgba(34, 197, 94, 0.1);
}

.test-result.failure {
    border-color: var(--error);
    background: rgba(239, 68, 68, 0.1);
}

.result-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 12px;
}

.result-status {
    font-weight: 600;
    font-size: 12px;
    padding: 4px 10px;
    border-radius: 4px;
}

.test-result.success .result-status {
    background: var(--success);
    color: #000;
}

.test-result.failure .result-status {
    background: var(--error);
    color: #fff;
}

.result-message {
    font-size: 13px;
    color: var(--text-2);
}

.result-steps {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.step {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 10px;
    background: var(--bg-2);
    border-radius: 6px;
}

.step-icon {
    font-size: 14px;
    width: 20px;
    text-align: center;
}

.step.success .step-icon {
    color: var(--success);
}

.step.failure .step-icon {
    color: var(--error);
}

.step-name {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-1);
}

.step-output {
    display: block;
    font-size: 12px;
    color: var(--text-2);
    font-family: 'Geist Mono', monospace;
    margin-top: 4px;
}

.step-error {
    display: block;
    font-size: 12px;
    color: var(--error);
    margin-top: 4px;
}

/* Test History */
.test-history {
    max-height: 600px;
    overflow-y: auto;
}

.test-history-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.test-history-header h2 {
    margin: 0;
}

#test-history-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.history-entry {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 10px 12px;
    cursor: pointer;
    transition: all 0.15s ease;
}

.history-entry:hover {
    background: var(--bg-3);
    border-color: var(--bg-4);
}

.history-entry.success {
    border-left: 3px solid var(--success);
}

.history-entry.failure {
    border-left: 3px solid var(--error);
}

.history-entry-header {
    display: flex;
    align-items: center;
    gap: 8px;
}

.history-status-icon {
    font-size: 14px;
    width: 18px;
    text-align: center;
}

.history-entry.success .history-status-icon {
    color: var(--success);
}

.history-entry.failure .history-status-icon {
    color: var(--error);
}

.history-nip-name {
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-1);
}

.history-time {
    font-size: 11px;
    color: var(--text-3);
    margin-left: auto;
}

.history-delete-btn {
    background: transparent;
    border: none;
    color: var(--text-3);
    font-size: 16px;
    cursor: pointer;
    padding: 0 4px;
    line-height: 1;
    opacity: 0;
    transition: opacity 0.15s, color 0.15s;
}

.history-entry:hover .history-delete-btn {
    opacity: 1;
}

.history-delete-btn:hover {
    color: var(--error);
}

.history-entry-message {
    font-size: 12px;
    color: var(--text-2);
    margin-top: 6px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.loading {
    color: var(--text-2);
    font-size: 13px;
}

/* Keys Tab */
.keypair-display {
    margin-top: 20px;
}

.keypair-display.hidden {
    display: none;
}

.key-row {
    margin-bottom: 16px;
}

.key-row label {
    display: block;
    font-size: 12px;
    color: var(--text-3);
    margin-bottom: 6px;
}

.key-value {
    display: flex;
    gap: 8px;
}

.key-value input {
    flex: 1;
    padding: 10px 14px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-1);
    font-family: 'Geist Mono', monospace;
    font-size: 13px;
}

.encode-options {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 12px;
    font-size: 13px;
    color: var(--text-2);
}

.result-box {
    margin-top: 16px;
    padding: 16px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
}

.result-box.hidden {
    display: none;
}

.result-box p {
    font-size: 13px;
    margin-bottom: 8px;
}

.result-box .error {
    color: var(--error);
}

.encoded-value {
    font-family: 'Geist Mono', monospace;
    word-break: break-all;
    font-size: 12px;
    color: var(--text-1);
}

/* Publish Tab */
.publish-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
}

.publish-form-panel {
    max-width: 100%;
}

.publish-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-group label {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-1);
}

.form-group label .optional {
    font-weight: 400;
    color: var(--text-3);
}

.form-select {
    padding: 10px 14px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-1);
    font-size: 13px;
    cursor: pointer;
}

.form-select:focus {
    outline: none;
    border-color: var(--accent);
}

.form-input {
    padding: 10px 14px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-1);
    font-size: 13px;
}

.form-input:focus {
    outline: none;
    border-color: var(--accent);
}

.form-input::placeholder {
    color: var(--text-3);
}

.form-textarea {
    padding: 10px 14px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-1);
    font-size: 13px;
    resize: vertical;
    min-height: 100px;
    font-family: inherit;
}

.form-textarea:focus {
    outline: none;
    border-color: var(--accent);
}

.form-textarea::placeholder {
    color: var(--text-3);
}

.char-count {
    font-size: 12px;
    color: var(--text-3);
    text-align: right;
}

/* Tags Container (legacy) */
.tags-container {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    min-height: 32px;
}

.tag-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 8px;
    background: var(--bg-3);
    border: 1px solid var(--border);
    border-radius: 4px;
    font-size: 12px;
    font-family: 'Geist Mono', monospace;
}

.tag-item .tag-key {
    color: var(--accent);
}

.tag-item .tag-value {
    color: var(--text-1);
    max-width: 150px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.tag-item .remove-tag {
    background: none;
    border: none;
    color: var(--text-3);
    cursor: pointer;
    padding: 0;
    font-size: 14px;
    line-height: 1;
}

.tag-item .remove-tag:hover {
    color: var(--error);
}

.tag-input-row {
    display: flex;
    gap: 8px;
}

.tag-input {
    width: 100px;
}

.tag-input:first-child {
    width: 80px;
}

/* Tag Builder UI */
.tag-builder {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.tag-builder-rows {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.tag-builder-empty {
    padding: 16px;
    text-align: center;
    background: var(--bg-2);
    border: 1px dashed var(--border);
    border-radius: 6px;
    margin: 0;
}

.tag-builder-row {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    padding: 10px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
}

.tag-builder-row:hover {
    border-color: var(--border-light);
}

.tag-row-key {
    flex-shrink: 0;
    width: 80px;
}

.tag-key-input {
    width: 100%;
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    padding: 6px 8px;
}

.tag-row-values {
    flex: 1;
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    align-items: center;
}

.tag-value-wrapper {
    display: flex;
    align-items: center;
    gap: 4px;
    flex: 1;
    min-width: 120px;
    max-width: 200px;
}

.tag-value-input {
    flex: 1;
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    padding: 6px 8px;
}

.tag-value-add {
    flex-shrink: 0;
    padding: 4px 8px !important;
    font-size: 14px !important;
    line-height: 1 !important;
    min-width: auto !important;
}

.tag-value-remove {
    flex-shrink: 0;
    padding: 2px 6px !important;
    font-size: 12px !important;
    line-height: 1 !important;
    min-width: auto !important;
    color: var(--text-3) !important;
    background: transparent !important;
    border: none !important;
}

.tag-value-remove:hover {
    color: var(--error) !important;
}

.tag-row-remove {
    flex-shrink: 0;
    padding: 6px 10px !important;
    font-size: 14px !important;
    line-height: 1 !important;
    min-width: auto !important;
    color: var(--text-3) !important;
    background: transparent !important;
    border: none !important;
    margin-left: auto;
}

.tag-row-remove:hover {
    color: var(--error) !important;
}

.tag-builder-add {
    align-self: flex-start;
}

/* Signing Options */
.signing-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.radio-option {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    transition: border-color 0.15s;
}

.radio-option:hover {
    border-color: var(--border-light);
}

.radio-option input[type="radio"] {
    margin-top: 2px;
}

.radio-label {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.radio-title {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-1);
}

.radio-desc {
    font-size: 12px;
    color: var(--text-3);
}

.radio-desc.available {
    color: var(--success);
}

.radio-desc.unavailable {
    color: var(--warning);
}

/* Key Input Wrapper */
.key-input-wrapper {
    display: flex;
    gap: 8px;
}

.key-input-wrapper input {
    flex: 1;
}

/* Relay Selector Controls */
.relay-selector-controls {
    display: flex;
    gap: 8px;
    margin-bottom: 8px;
}

.relay-selector-controls .btn {
    font-size: 11px;
    padding: 4px 8px;
}

.relay-selection-count {
    font-size: 12px;
    color: var(--text-2);
    font-weight: 400;
}

/* Relay Checkbox List */
.relay-checkbox-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-height: 200px;
    overflow-y: auto;
    padding: 8px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
}

.relay-checkbox-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 8px;
    border-radius: 4px;
}

.relay-checkbox-item:hover {
    background: var(--bg-3);
}

.relay-checkbox-item input[type="checkbox"] {
    accent-color: var(--accent);
}

.relay-checkbox-item .relay-url {
    flex: 1;
    font-size: 12px;
    font-family: 'Geist Mono', monospace;
    color: var(--text-1);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.relay-checkbox-item .relay-status-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--text-3);
}

.relay-checkbox-item .relay-status-dot.connected {
    background: var(--success);
}

.relay-checkbox-item .relay-status-dot.disconnected {
    background: var(--error);
}

/* Compact relay checkbox list for Events tab */
.relay-checkbox-list-compact {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: 4px;
    max-height: 150px;
}

.relay-checkbox-list-compact .relay-checkbox-item {
    padding: 4px 6px;
    gap: 6px;
}

.relay-checkbox-list-compact .relay-url {
    font-size: 11px;
}

.query-builder-field-full {
    flex: 1 1 100%;
}

/* Publish Actions */
.publish-actions {
    display: flex;
    gap: 12px;
    padding-top: 8px;
}

/* Event Preview */
.event-preview {
    padding: 16px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    font-size: 13px;
    min-height: 150px;
}

.event-preview pre {
    margin: 0;
    white-space: pre-wrap;
    word-break: break-all;
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--text-1);
}

.event-preview .preview-field {
    margin-bottom: 12px;
}

.event-preview .preview-label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-3);
    margin-bottom: 4px;
}

.event-preview .preview-value {
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--text-1);
}

.event-preview .preview-value.content {
    white-space: pre-wrap;
    word-break: break-word;
}

/* Publish History */
.publish-history {
    margin-top: 16px;
    max-height: 300px;
    overflow-y: auto;
}

.publish-history-item {
    padding: 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    margin-bottom: 8px;
}

.publish-history-item:last-child {
    margin-bottom: 0;
}

.publish-history-item .history-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.publish-history-item .history-kind {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 2px 6px;
    background: var(--bg-3);
    border-radius: 3px;
    color: var(--text-2);
}

.publish-history-item .history-time {
    font-size: 11px;
    color: var(--text-3);
}

.publish-history-item .history-content {
    font-size: 12px;
    color: var(--text-1);
    margin-bottom: 8px;
    max-height: 60px;
    overflow: hidden;
    text-overflow: ellipsis;
}

.publish-history-item .history-relays {
    font-size: 11px;
    color: var(--text-3);
}

.publish-history-item .history-status {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 11px;
}

.publish-history-item .history-status.success {
    color: var(--success);
}

.publish-history-item .history-status.error {
    color: var(--error);
}

/* Publish History Event ID */
.publish-history-item .history-event-id {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 11px;
    margin-bottom: 6px;
}

.publish-history-item .history-event-id .label {
    color: var(--text-3);
}

.publish-history-item .history-event-id code {
    font-family: 'Geist Mono', monospace;
    background: var(--bg-3);
    padding: 2px 6px;
    border-radius: 3px;
    cursor: pointer;
    color: var(--accent);
}

.publish-history-item .history-event-id code:hover {
    background: var(--bg-4);
}

/* Publish History Relay Details */
.publish-history-item .history-relays-detail {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-top: 8px;
}

.publish-history-item .relay-result {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 2px 6px;
    font-size: 10px;
    border-radius: 3px;
    background: var(--bg-3);
}

.publish-history-item .relay-result.success {
    color: var(--success);
}

.publish-history-item .relay-result.error {
    color: var(--error);
}

.publish-history-item .relay-result .relay-icon {
    font-size: 9px;
}

.publish-history-item .relay-result .relay-url {
    font-family: 'Geist Mono', monospace;
    max-width: 100px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Publish Result Modal */
.publish-result {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.publish-result-header {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px;
    border-radius: 8px;
    background: var(--bg-2);
}

.publish-result-header.success {
    background: rgba(var(--success-rgb, 34, 197, 94), 0.1);
    border: 1px solid var(--success);
}

.publish-result-header.partial {
    background: rgba(var(--warning-rgb, 234, 179, 8), 0.1);
    border: 1px solid var(--warning, #eab308);
}

.publish-result-header.error {
    background: rgba(var(--error-rgb, 239, 68, 68), 0.1);
    border: 1px solid var(--error);
}

.publish-result-header .result-icon {
    font-size: 24px;
}

.publish-result-header.success .result-icon {
    color: var(--success);
}

.publish-result-header.partial .result-icon {
    color: var(--warning, #eab308);
}

.publish-result-header.error .result-icon {
    color: var(--error);
}

.publish-result-header .result-title {
    font-size: 16px;
    font-weight: 600;
}

.publish-result-event-id label,
.publish-result-relays label {
    display: block;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-2);
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.event-id-display {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
}

.event-id-code {
    flex: 1;
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--accent);
    word-break: break-all;
}

.relay-results-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
    max-height: 200px;
    overflow-y: auto;
}

.relay-result-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 4px;
    font-size: 12px;
}

.relay-result-item.success {
    border-color: var(--success);
}

.relay-result-item.error {
    border-color: var(--error);
}

.relay-result-item .relay-status-icon {
    font-size: 14px;
    width: 18px;
    text-align: center;
}

.relay-result-item.success .relay-status-icon {
    color: var(--success);
}

.relay-result-item.error .relay-status-icon {
    color: var(--error);
}

.relay-result-item .relay-url-full {
    flex: 1;
    font-family: 'Geist Mono', monospace;
    color: var(--text-1);
    word-break: break-all;
}

.relay-result-item .relay-error {
    font-size: 11px;
    color: var(--error);
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.publish-result-summary {
    padding-top: 12px;
    border-top: 1px solid var(--border);
    text-align: center;
}

.publish-result-summary .summary-text {
    font-size: 13px;
    color: var(--text-2);
}

/* Signed Event Preview */
.signed-event-preview {
    padding: 16px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    font-size: 13px;
    margin-bottom: 16px;
}

.signed-event-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.signed-event-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.signed-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 8px;
    background: var(--success);
    color: var(--bg-0);
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 4px;
}

.signed-badge::before {
    content: '\2713';
}

.signed-event-details {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.signed-event-details .detail-row {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    font-size: 12px;
}

.signed-event-details .label {
    color: var(--text-3);
    min-width: 70px;
}

.signed-event-details .value {
    color: var(--text-1);
    word-break: break-all;
}

.signed-event-details .value.mono {
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
}

.signed-event-json {
    margin: 0;
    padding: 12px;
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 4px;
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
    line-height: 1.5;
    white-space: pre-wrap;
    word-break: break-all;
    color: var(--text-1);
    max-height: 200px;
    overflow-y: auto;
}

.copy-signed-event {
    font-size: 11px;
}

/* Publish Tab Responsive */
@media (max-width: 900px) {
    .publish-layout {
        grid-template-columns: 1fr;
    }
}

/* Testing Tab Responsive */
@media (max-width: 1200px) {
    .testing-layout {
        grid-template-columns: 250px 1fr;
    }

    .test-history {
        grid-column: 1 / -1;
        max-height: 300px;
    }
}

@media (max-width: 900px) {
    .testing-layout {
        grid-template-columns: 1fr;
    }

    .nip-list {
        max-height: 300px;
    }

    .test-history {
        max-height: 250px;
    }
}

/* Console Tab */
.console-input {
    display: flex;
    align-items: center;
    gap: 8px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 4px 4px 4px 14px;
}

.prompt {
    font-family: 'Geist Mono', monospace;
    font-size: 14px;
    color: var(--text-3);
}

.console-input input {
    flex: 1;
    padding: 10px;
    background: transparent;
    border: none;
    color: var(--text-1);
    font-family: 'Geist Mono', monospace;
    font-size: 14px;
}

.console-input input:focus {
    outline: none;
}

.console-output-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
}

.console-output-header h3 {
    margin-bottom: 0;
}

.console-output pre {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 16px;
    font-family: 'Geist Mono', monospace;
    font-size: 13px;
    color: var(--text-1);
    white-space: pre-wrap;
    word-break: break-all;
    max-height: 300px;
    overflow-y: auto;
}

.history-item {
    padding: 8px 12px;
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--text-2);
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.15s;
}

.history-item:hover {
    background: var(--bg-3);
    color: var(--text-1);
}

/* Command Reference Panel */
.command-reference-panel {
    padding: 0;
}

.command-reference-toggle {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    padding: 12px 16px;
    background: transparent;
    border: none;
    color: var(--text-1);
    font-family: 'Geist', sans-serif;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    text-align: left;
    transition: background 0.15s ease;
}

.command-reference-toggle:hover {
    background: var(--bg-2);
}

.command-reference-toggle-icon {
    font-size: 10px;
    color: var(--text-3);
    transition: transform 0.2s ease;
    display: inline-block;
    width: 12px;
}

.command-reference-toggle.expanded .command-reference-toggle-icon {
    transform: rotate(90deg);
}

.command-reference-content {
    padding: 0 16px 16px;
    border-top: 1px solid var(--border);
}

.command-reference-content[hidden] {
    display: none;
}

.command-reference-section {
    margin-bottom: 16px;
}

.command-reference-section:last-child {
    margin-bottom: 0;
}

.command-reference-section h4 {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-3);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin: 12px 0 8px;
    padding-bottom: 4px;
    border-bottom: 1px solid var(--border);
}

.command-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 10px;
    margin-bottom: 4px;
    background: var(--bg-2);
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.15s, border-color 0.15s;
    border: 1px solid transparent;
}

.command-item:last-child {
    margin-bottom: 0;
}

.command-item:hover {
    background: var(--bg-3);
    border-color: var(--accent);
}

.command-code {
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--accent);
    background: var(--bg-1);
    padding: 2px 6px;
    border-radius: 3px;
    white-space: nowrap;
}

.command-desc {
    font-size: 12px;
    color: var(--text-2);
    flex: 1;
}

.command-reference-footer {
    margin-top: 16px;
    padding-top: 12px;
    border-top: 1px solid var(--border);
    text-align: center;
}

.docs-link {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    color: var(--accent);
    font-size: 13px;
    text-decoration: none;
    transition: color 0.15s;
}

.docs-link:hover {
    color: var(--text-1);
    text-decoration: underline;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: var(--bg-2);
}

::-webkit-scrollbar-thumb {
    background: var(--border-light);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-3);
}

/* Profile Card */
.profile-card {
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 16px;
}

.profile-card.hidden {
    display: none;
}

.profile-banner {
    height: 120px;
    background: linear-gradient(135deg, var(--bg-3), var(--bg-2));
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    position: relative;
    transition: height 0.2s ease;
}

.profile-banner.loading {
    animation: banner-pulse 1.5s ease-in-out infinite;
}

@keyframes banner-pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.7;
    }
}

.profile-banner::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 40px;
    background: linear-gradient(to top, var(--bg-1), transparent);
    pointer-events: none;
}

.profile-banner.has-image {
    height: 160px;
}

.profile-banner.has-image::after {
    height: 60px;
}

.profile-header {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    padding: 0 20px 16px;
    margin-top: -40px;
}

.profile-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: var(--bg-3);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    border: 4px solid var(--bg-1);
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: 600;
    color: var(--text-2);
    position: relative;
    overflow: hidden;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.profile-avatar:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

.profile-avatar.loading {
    animation: avatar-pulse 1.5s ease-in-out infinite;
}

@keyframes avatar-pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.6;
    }
}

.profile-avatar.has-image {
    color: transparent;
}

.profile-avatar::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.profile-avatar:hover::before {
    opacity: 1;
}

/* Avatar size variants */
.profile-avatar.avatar-sm {
    width: 40px;
    height: 40px;
    border-width: 2px;
    font-size: 14px;
}

.profile-avatar.avatar-md {
    width: 64px;
    height: 64px;
    border-width: 3px;
    font-size: 20px;
}

.profile-avatar.avatar-lg {
    width: 96px;
    height: 96px;
    border-width: 4px;
    font-size: 28px;
}

.profile-avatar.avatar-xl {
    width: 128px;
    height: 128px;
    border-width: 5px;
    font-size: 36px;
}

/* Avatar placeholder icon */
.profile-avatar .avatar-placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    color: var(--text-3);
    font-size: inherit;
}

.profile-avatar.has-image .avatar-placeholder {
    display: none;
}

/* Avatar image element (alternative to background-image) */
.profile-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
}

/* Avatar with ring/status indicator */
.profile-avatar.avatar-ring {
    box-shadow: 0 0 0 3px var(--accent);
}

.profile-avatar.avatar-ring-success {
    box-shadow: 0 0 0 3px var(--success);
}

.profile-avatar.avatar-ring-error {
    box-shadow: 0 0 0 3px var(--error);
}

.profile-info {
    flex: 1;
    padding-top: 44px;
    min-width: 0;
}

.profile-name-row {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
}

.profile-display-name {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-0);
}

.profile-username {
    display: block;
    font-size: 14px;
    color: var(--text-2);
    margin-top: 2px;
}

.profile-pubkey {
    display: block;
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--text-3);
    margin-top: 4px;
}

.nip05-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 2px 8px;
    background: rgba(34, 197, 94, 0.15);
    border-radius: 4px;
    font-size: 12px;
    color: var(--success);
}

.nip05-badge.hidden {
    display: none;
}

.nip05-badge.unverified {
    background: rgba(156, 163, 175, 0.15);
    color: var(--text-2);
}

.nip05-badge.verifying {
    background: rgba(59, 130, 246, 0.15);
    color: var(--accent);
}

.nip05-icon {
    font-size: 10px;
}

.nip05-icon.spin {
    animation: spin 1s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.profile-actions {
    padding-top: 44px;
    flex-shrink: 0;
}

.profile-body {
    padding: 0 20px 20px;
}

.profile-about {
    font-size: 14px;
    color: var(--text-1);
    line-height: 1.6;
    margin-bottom: 12px;
}

.profile-links {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 16px;
}

.profile-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: var(--text-2);
    text-decoration: none;
}

.profile-link:hover {
    color: var(--text-1);
}

.profile-link.hidden {
    display: none;
}

.link-icon {
    font-size: 14px;
}

.link-text {
    word-break: break-all;
}

.profile-stats {
    display: flex;
    gap: 24px;
    padding-top: 12px;
    border-top: 1px solid var(--border);
}

.stat {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.stat-value {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-0);
}

.stat-label {
    font-size: 12px;
    color: var(--text-3);
}

/* Profile Content Tabs */
.profile-content {
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 8px;
    overflow: hidden;
}

.profile-content.hidden {
    display: none;
}

.profile-tabs {
    display: flex;
    gap: 4px;
    padding: 12px 16px;
    border-bottom: 1px solid var(--border);
    background: var(--bg-2);
}

.profile-tab {
    padding: 8px 16px;
    background: transparent;
    border: none;
    border-radius: 6px;
    color: var(--text-2);
    font-family: inherit;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s;
}

.profile-tab:hover {
    background: var(--bg-3);
    color: var(--text-1);
}

.profile-tab.active {
    background: var(--bg-3);
    color: var(--text-0);
}

.profile-tab-content {
    display: none;
    padding: 16px;
}

.profile-tab-content.active {
    display: block;
}

/* Profile Notes */
.profile-notes-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.note-card {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 14px;
}

.note-content {
    font-size: 14px;
    color: var(--text-1);
    line-height: 1.5;
    word-break: break-word;
    margin-bottom: 8px;
}

.note-meta {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 12px;
    color: var(--text-3);
}

.note-meta .note-time {
    flex-shrink: 0;
}

.note-meta .note-id {
    flex: 1;
}

.note-meta .copy-btn {
    flex-shrink: 0;
}

.note-time {
    font-family: 'Geist Mono', monospace;
}

.note-id {
    font-family: 'Geist Mono', monospace;
}

/* Profile Following */
.profile-following-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.follow-card {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    transition: background 0.15s;
}

.follow-card:hover {
    background: var(--bg-3);
}

.follow-card-info {
    display: flex;
    align-items: center;
    gap: 12px;
    flex: 1;
    min-width: 0;
    cursor: pointer;
}

.follow-card .copy-btn {
    flex-shrink: 0;
}

/* Follow card avatar */
.follow-card .follow-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--bg-3);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: 500;
    color: var(--text-3);
}

.follow-card .follow-avatar.has-image {
    color: transparent;
}

.follow-pubkey {
    font-family: 'Geist Mono', monospace;
    font-size: 13px;
    color: var(--text-1);
}

.follow-petname {
    font-size: 13px;
    color: var(--accent);
    font-weight: 500;
}

.follow-relay {
    font-size: 11px;
    color: var(--text-3);
    margin-left: auto;
}

/* Profile Zaps */
.profile-zaps-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.zap-stats-summary {
    display: flex;
    gap: 24px;
    flex-wrap: wrap;
    margin-bottom: 16px;
}

.zap-stat {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.zap-stat-value {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-0);
}

.zap-stat-label {
    font-size: 12px;
    color: var(--text-3);
}

.zap-card {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
}

.zap-card-info {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 12px;
    flex: 1;
    min-width: 0;
}

.zap-card .copy-btn {
    flex-shrink: 0;
}

.zap-amount {
    font-size: 14px;
    font-weight: 600;
    color: var(--warning);
}

.zap-sender {
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--text-2);
}

.zap-time {
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
    color: var(--text-3);
    margin-left: auto;
}

.zap-message {
    width: 100%;
    font-size: 13px;
    color: var(--text-2);
    font-style: italic;
    margin-top: 4px;
}

/* Loading and Error states */
.loading {
    color: var(--text-2);
    font-size: 13px;
}

.error {
    color: var(--error);
    font-size: 13px;
}

/* Skeleton Loaders */
.skeleton {
    background: linear-gradient(90deg, var(--bg-3) 25%, var(--bg-4) 50%, var(--bg-3) 75%);
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s infinite;
    border-radius: 4px;
}

@keyframes skeleton-shimmer {
    0% {
        background-position: 200% 0;
    }
    100% {
        background-position: -200% 0;
    }
}

/* Skeleton Line Variants */
.skeleton-line {
    height: 14px;
    margin-bottom: 8px;
}

.skeleton-line:last-child {
    margin-bottom: 0;
}

.skeleton-line.skeleton-line-sm {
    height: 10px;
}

.skeleton-line.skeleton-line-lg {
    height: 18px;
}

.skeleton-line.skeleton-line-xl {
    height: 24px;
}

/* Width variants for text-like content */
.skeleton-line.w-full {
    width: 100%;
}

.skeleton-line.w-3\/4 {
    width: 75%;
}

.skeleton-line.w-2\/3 {
    width: 66.67%;
}

.skeleton-line.w-1\/2 {
    width: 50%;
}

.skeleton-line.w-1\/3 {
    width: 33.33%;
}

.skeleton-line.w-1\/4 {
    width: 25%;
}

/* Skeleton Avatar */
.skeleton-avatar {
    border-radius: 50%;
    flex-shrink: 0;
}

.skeleton-avatar.skeleton-avatar-sm {
    width: 32px;
    height: 32px;
}

.skeleton-avatar.skeleton-avatar-md {
    width: 40px;
    height: 40px;
}

.skeleton-avatar.skeleton-avatar-lg {
    width: 64px;
    height: 64px;
}

.skeleton-avatar.skeleton-avatar-xl {
    width: 80px;
    height: 80px;
}

/* Skeleton Banner */
.skeleton-banner {
    width: 100%;
    height: 120px;
    border-radius: 0;
}

/* Skeleton Card - Relay Card */
.skeleton-relay-card {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    border-left: 3px solid var(--bg-4);
}

.skeleton-relay-card .skeleton-relay-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.skeleton-relay-card .skeleton-relay-url {
    width: 180px;
    height: 16px;
}

.skeleton-relay-card .skeleton-relay-status {
    width: 70px;
    height: 20px;
    border-radius: 4px;
}

.skeleton-relay-card .skeleton-relay-stats {
    display: flex;
    gap: 16px;
    margin-bottom: 12px;
}

.skeleton-relay-card .skeleton-relay-stat {
    width: 80px;
    height: 12px;
}

.skeleton-relay-card .skeleton-relay-actions {
    display: flex;
    gap: 8px;
}

.skeleton-relay-card .skeleton-relay-btn {
    width: 70px;
    height: 32px;
    border-radius: 6px;
}

/* Skeleton Card - Event Card */
.skeleton-event-card {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 14px;
    margin-bottom: 8px;
}

.skeleton-event-card .skeleton-event-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
}

.skeleton-event-card .skeleton-event-kind {
    width: 50px;
    height: 20px;
    border-radius: 4px;
}

.skeleton-event-card .skeleton-event-time {
    width: 80px;
    height: 14px;
    margin-left: auto;
}

.skeleton-event-card .skeleton-event-id {
    width: 200px;
    height: 12px;
    margin-bottom: 4px;
}

.skeleton-event-card .skeleton-event-author {
    width: 180px;
    height: 12px;
    margin-bottom: 12px;
}

.skeleton-event-card .skeleton-event-content {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 8px;
}

/* Skeleton Card - Profile Card */
.skeleton-profile-card {
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 8px;
    overflow: hidden;
}

.skeleton-profile-card .skeleton-profile-banner {
    height: 120px;
    border-radius: 0;
}

.skeleton-profile-card .skeleton-profile-header {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    padding: 0 20px 16px;
    margin-top: -40px;
}

.skeleton-profile-card .skeleton-profile-avatar {
    width: 80px;
    height: 80px;
    border: 4px solid var(--bg-1);
    flex-shrink: 0;
}

.skeleton-profile-card .skeleton-profile-info {
    flex: 1;
    padding-top: 44px;
}

.skeleton-profile-card .skeleton-profile-name {
    width: 150px;
    height: 20px;
    margin-bottom: 8px;
}

.skeleton-profile-card .skeleton-profile-username {
    width: 100px;
    height: 14px;
    margin-bottom: 4px;
}

.skeleton-profile-card .skeleton-profile-pubkey {
    width: 200px;
    height: 12px;
}

.skeleton-profile-card .skeleton-profile-body {
    padding: 0 20px 20px;
}

.skeleton-profile-card .skeleton-profile-about {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 16px;
}

.skeleton-profile-card .skeleton-profile-stats {
    display: flex;
    gap: 24px;
    padding-top: 12px;
    border-top: 1px solid var(--border);
}

.skeleton-profile-card .skeleton-profile-stat {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.skeleton-profile-card .skeleton-profile-stat-value {
    width: 40px;
    height: 18px;
}

.skeleton-profile-card .skeleton-profile-stat-label {
    width: 60px;
    height: 12px;
}

/* Skeleton Card - Note Card */
.skeleton-note-card {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 14px;
}

.skeleton-note-card .skeleton-note-content {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 12px;
}

.skeleton-note-card .skeleton-note-meta {
    display: flex;
    justify-content: space-between;
}

.skeleton-note-card .skeleton-note-time {
    width: 80px;
    height: 12px;
}

.skeleton-note-card .skeleton-note-id {
    width: 120px;
    height: 12px;
}

/* Skeleton Card - Follow Card */
.skeleton-follow-card {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
}

.skeleton-follow-card .skeleton-follow-avatar {
    width: 40px;
    height: 40px;
}

.skeleton-follow-card .skeleton-follow-info {
    flex: 1;
}

.skeleton-follow-card .skeleton-follow-name {
    width: 120px;
    height: 14px;
    margin-bottom: 4px;
}

.skeleton-follow-card .skeleton-follow-pubkey {
    width: 180px;
    height: 12px;
}

.skeleton-follow-card .skeleton-follow-relay {
    width: 100px;
    height: 10px;
}

/* Skeleton Card - Zap Card */
.skeleton-zap-card {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
}

.skeleton-zap-card .skeleton-zap-amount {
    width: 70px;
    height: 16px;
}

.skeleton-zap-card .skeleton-zap-sender {
    width: 140px;
    height: 12px;
}

.skeleton-zap-card .skeleton-zap-time {
    width: 80px;
    height: 10px;
    margin-left: auto;
}

/* Skeleton Card - Relay Health Card */
.skeleton-health-card {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 14px;
    border-left: 3px solid var(--bg-4);
}

.skeleton-health-card .skeleton-health-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.skeleton-health-card .skeleton-health-url {
    width: 150px;
    height: 14px;
}

.skeleton-health-card .skeleton-health-score {
    display: flex;
    align-items: center;
    gap: 8px;
}

.skeleton-health-card .skeleton-health-score-value {
    width: 40px;
    height: 16px;
}

.skeleton-health-card .skeleton-health-score-bar {
    width: 60px;
    height: 6px;
    border-radius: 3px;
}

.skeleton-health-card .skeleton-health-metrics {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
}

.skeleton-health-card .skeleton-health-metric {
    display: flex;
    justify-content: space-between;
    padding: 4px 0;
}

.skeleton-health-card .skeleton-metric-label {
    width: 50px;
    height: 12px;
}

.skeleton-health-card .skeleton-metric-value {
    width: 40px;
    height: 12px;
}

/* Skeleton List Container */
.skeleton-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.skeleton-list.skeleton-list-sm {
    gap: 8px;
}

/* Skeleton Grid Container */
.skeleton-grid {
    display: grid;
    gap: 12px;
}

.skeleton-grid.skeleton-grid-relays {
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
}

.skeleton-grid.skeleton-grid-health {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

/* Hide skeleton when content loads */
.skeleton-container.hidden {
    display: none;
}

/* Spinner Component */
.spinner {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 2px solid var(--border-light);
    border-top-color: var(--accent);
    border-radius: 50%;
    animation: spinner-rotate 0.8s linear infinite;
}

@keyframes spinner-rotate {
    to {
        transform: rotate(360deg);
    }
}

/* Spinner Size Variants */
.spinner.spinner-xs {
    width: 12px;
    height: 12px;
    border-width: 1.5px;
}

.spinner.spinner-sm {
    width: 16px;
    height: 16px;
    border-width: 2px;
}

.spinner.spinner-md {
    width: 24px;
    height: 24px;
    border-width: 2.5px;
}

.spinner.spinner-lg {
    width: 32px;
    height: 32px;
    border-width: 3px;
}

.spinner.spinner-xl {
    width: 48px;
    height: 48px;
    border-width: 4px;
}

/* Spinner Color Variants */
.spinner.spinner-accent {
    border-color: var(--border-light);
    border-top-color: var(--accent);
}

.spinner.spinner-success {
    border-color: rgba(34, 197, 94, 0.2);
    border-top-color: var(--success);
}

.spinner.spinner-error {
    border-color: rgba(239, 68, 68, 0.2);
    border-top-color: var(--error);
}

.spinner.spinner-warning {
    border-color: rgba(234, 179, 8, 0.2);
    border-top-color: var(--warning);
}

.spinner.spinner-white {
    border-color: rgba(255, 255, 255, 0.2);
    border-top-color: white;
}

/* Spinner with Label */
.spinner-container {
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.spinner-container.spinner-container-vertical {
    flex-direction: column;
    gap: 12px;
}

.spinner-label {
    font-size: 13px;
    color: var(--text-2);
}

/* Spinner Overlay */
.spinner-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.5);
    border-radius: inherit;
    z-index: 10;
}

/* Spinner in Button */
.btn .spinner {
    width: 14px;
    height: 14px;
    border-width: 2px;
}

.btn.btn-loading {
    position: relative;
    color: transparent;
    pointer-events: none;
}

.btn.btn-loading .spinner {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.btn.btn-loading .spinner.spinner-white {
    border-color: rgba(255, 255, 255, 0.3);
    border-top-color: white;
}

/* Full Page Spinner */
.spinner-fullpage {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 16px;
    background: var(--bg-0);
    z-index: 9999;
}

.spinner-fullpage .spinner {
    width: 40px;
    height: 40px;
    border-width: 3px;
}

.spinner-fullpage .spinner-label {
    font-size: 14px;
    color: var(--text-1);
}

/* Monitoring Tab */
.monitoring-header {
    margin-bottom: 16px;
}

.monitoring-summary {
    display: flex;
    gap: 32px;
    flex-wrap: wrap;
    margin-top: 16px;
}

.monitoring-stat {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.monitoring-stat-value {
    font-size: 28px;
    font-weight: 600;
    color: var(--text-0);
    font-family: 'Geist Mono', monospace;
}

.monitoring-stat-label {
    font-size: 12px;
    color: var(--text-3);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.monitoring-charts {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
    margin-bottom: 16px;
}

/* Chart Panel Styles */
.chart-panel {
    min-height: 280px;
    display: flex;
    flex-direction: column;
}

.chart-panel-full {
    min-height: 320px;
    display: flex;
    flex-direction: column;
}

.chart-panel h3,
.chart-panel-full h3 {
    flex-shrink: 0;
}

/* Chart Container Base Styles */
.chart-container {
    position: relative;
    height: 220px;
    width: 100%;
    flex: 1;
    min-height: 0;
    background: var(--bg-2);
    border-radius: 6px;
    overflow: hidden;
    transition: opacity 0.2s ease;
}

.chart-container-full {
    position: relative;
    height: 260px;
    width: 100%;
    flex: 1;
    min-height: 0;
    background: var(--bg-2);
    border-radius: 6px;
    overflow: hidden;
    transition: opacity 0.2s ease;
}

/* Chart Canvas Sizing */
.chart-container canvas,
.chart-container-full canvas {
    width: 100% !important;
    height: 100% !important;
    display: block;
}

/* Chart Loading State */
.chart-container.loading,
.chart-container-full.loading {
    display: flex;
    align-items: center;
    justify-content: center;
}

.chart-container.loading::after,
.chart-container-full.loading::after {
    content: '';
    width: 32px;
    height: 32px;
    border: 3px solid var(--border-light);
    border-top-color: var(--accent);
    border-radius: 50%;
    animation: chart-spin 0.8s linear infinite;
}

@keyframes chart-spin {
    to {
        transform: rotate(360deg);
    }
}

/* Chart Empty State */
.chart-container.empty,
.chart-container-full.empty {
    display: flex;
    align-items: center;
    justify-content: center;
}

.chart-container.empty::after,
.chart-container-full.empty::after {
    content: 'No data available';
    font-size: 13px;
    color: var(--text-3);
}

/* Chart Error State */
.chart-container.error,
.chart-container-full.error {
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid var(--error);
    background: rgba(239, 68, 68, 0.05);
}

.chart-container.error::after,
.chart-container-full.error::after {
    content: 'Failed to load chart';
    font-size: 13px;
    color: var(--error);
}

/* Chart Header with Controls */
.chart-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
}

.chart-header h3 {
    margin-bottom: 0;
}

.chart-controls {
    display: flex;
    gap: 4px;
}

.chart-control-btn {
    padding: 4px 8px;
    background: var(--bg-3);
    border: 1px solid var(--border);
    border-radius: 4px;
    color: var(--text-2);
    font-family: inherit;
    font-size: 11px;
    cursor: pointer;
    transition: all 0.15s;
}

.chart-control-btn:hover {
    background: var(--bg-4);
    color: var(--text-1);
}

.chart-control-btn.active {
    background: var(--accent);
    border-color: var(--accent);
    color: var(--text-0);
}

/* Chart Legend Styles */
.chart-legend {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid var(--border);
}

.chart-legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    color: var(--text-2);
}

.chart-legend-color {
    width: 12px;
    height: 12px;
    border-radius: 2px;
    flex-shrink: 0;
}

.chart-legend-color.accent {
    background: var(--accent);
}

.chart-legend-color.success {
    background: var(--success);
}

.chart-legend-color.warning {
    background: var(--warning);
}

.chart-legend-color.error {
    background: var(--error);
}

/* Chart Tooltip Override Styles */
.chart-tooltip {
    background: var(--bg-3) !important;
    border: 1px solid var(--border-light) !important;
    border-radius: 6px !important;
    padding: 8px 12px !important;
    font-family: 'Geist', system-ui, -apple-system, sans-serif !important;
    font-size: 12px !important;
    color: var(--text-1) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
}

.chart-tooltip-title {
    font-weight: 500;
    margin-bottom: 4px;
    color: var(--text-0);
}

.chart-tooltip-value {
    font-family: 'Geist Mono', monospace;
    color: var(--accent);
}

/* Relay Health Grid */
.relay-health-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 12px;
}

.relay-health-card {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 14px;
    transition: border-color 0.2s;
}

.relay-health-card:hover {
    border-color: var(--border-light);
}

.relay-health-card.healthy {
    border-left: 3px solid var(--success);
}

.relay-health-card.degraded {
    border-left: 3px solid var(--warning);
}

.relay-health-card.unhealthy {
    border-left: 3px solid var(--error);
}

.relay-health-card.offline {
    border-left: 3px solid var(--text-3);
    opacity: 0.7;
}

.relay-health-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.relay-health-url {
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--text-1);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 180px;
}

.relay-health-score {
    display: flex;
    align-items: center;
    gap: 6px;
}

.health-score-value {
    font-family: 'Geist Mono', monospace;
    font-size: 14px;
    font-weight: 600;
}

.health-score-value.good {
    color: var(--success);
}

.health-score-value.medium {
    color: var(--warning);
}

.health-score-value.poor {
    color: var(--error);
}

.health-score-bar {
    width: 60px;
    height: 6px;
    background: var(--bg-3);
    border-radius: 3px;
    overflow: hidden;
}

.health-score-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.3s ease, background 0.3s ease;
}

.health-score-fill.good {
    background: var(--success);
}

.health-score-fill.medium {
    background: var(--warning);
}

.health-score-fill.poor {
    background: var(--error);
}

.relay-health-metrics {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
    font-size: 12px;
}

.relay-health-metric {
    display: flex;
    justify-content: space-between;
    padding: 4px 0;
    border-bottom: 1px solid var(--border);
}

.relay-health-metric:last-child {
    border-bottom: none;
}

.metric-label {
    color: var(--text-3);
}

.metric-value {
    color: var(--text-1);
    font-family: 'Geist Mono', monospace;
}

.metric-value.connected {
    color: var(--success);
}

.metric-value.disconnected {
    color: var(--error);
}

.relay-health-error {
    margin-top: 8px;
    padding: 8px;
    background: rgba(239, 68, 68, 0.1);
    border-radius: 4px;
    font-size: 11px;
    color: var(--error);
}

/* Toast Notifications */
.toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-width: 400px;
    pointer-events: none;
}

.toast {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 14px 16px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    animation: toast-slide-in 0.3s ease-out;
    pointer-events: auto;
    max-width: 100%;
}

.toast.toast-success {
    border-left: 3px solid var(--success);
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.12) 0%, var(--bg-2) 100%);
    border-color: rgba(34, 197, 94, 0.3);
}

.toast.toast-success .toast-title {
    color: var(--success);
}

.toast.toast-error {
    border-left: 3px solid var(--error);
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.12) 0%, var(--bg-2) 100%);
    border-color: rgba(239, 68, 68, 0.3);
}

.toast.toast-error .toast-title {
    color: var(--error);
}

.toast.toast-warning {
    border-left: 3px solid var(--warning);
    background: linear-gradient(135deg, rgba(234, 179, 8, 0.12) 0%, var(--bg-2) 100%);
    border-color: rgba(234, 179, 8, 0.3);
}

.toast.toast-warning .toast-title {
    color: var(--warning);
}

.toast.toast-info {
    border-left: 3px solid var(--accent);
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.12) 0%, var(--bg-2) 100%);
    border-color: rgba(59, 130, 246, 0.3);
}

.toast.toast-info .toast-title {
    color: var(--accent);
}

.toast.toast-hiding {
    animation: toast-slide-out 0.2s ease-in forwards;
}

@keyframes toast-slide-in {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes toast-slide-out {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}

@keyframes toast-fade-in {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes toast-fade-out {
    from {
        opacity: 1;
        transform: scale(1);
    }
    to {
        opacity: 0;
        transform: scale(0.95);
    }
}

@keyframes toast-slide-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes toast-slide-down {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(20px);
    }
}

@keyframes toast-bounce-in {
    0% {
        opacity: 0;
        transform: translateX(100%) scale(0.8);
    }
    50% {
        opacity: 1;
        transform: translateX(-10px) scale(1.02);
    }
    70% {
        transform: translateX(5px) scale(0.98);
    }
    100% {
        transform: translateX(0) scale(1);
    }
}

@keyframes toast-shake {
    0%, 100% {
        transform: translateX(0);
    }
    10%, 30%, 50%, 70%, 90% {
        transform: translateX(-4px);
    }
    20%, 40%, 60%, 80% {
        transform: translateX(4px);
    }
}

@keyframes toast-progress-shrink {
    from {
        width: 100%;
    }
    to {
        width: 0%;
    }
}

@keyframes toast-icon-pop {
    0% {
        transform: scale(0);
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
    }
}

@keyframes toast-pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.7;
    }
}

/* Toast Animation Variants */
.toast.toast-fade {
    animation: toast-fade-in 0.25s ease-out;
}

.toast.toast-fade.toast-hiding {
    animation: toast-fade-out 0.2s ease-in forwards;
}

.toast.toast-slide-up {
    animation: toast-slide-up 0.3s ease-out;
}

.toast.toast-slide-up.toast-hiding {
    animation: toast-slide-down 0.2s ease-in forwards;
}

.toast.toast-bounce {
    animation: toast-bounce-in 0.5s ease-out;
}

.toast.toast-bounce.toast-hiding {
    animation: toast-slide-out 0.2s ease-in forwards;
}

/* Icon animation on toast appearance */
.toast .toast-icon {
    animation: toast-icon-pop 0.3s ease-out 0.1s both;
}

/* Shake animation for error toasts */
.toast.toast-error.toast-shake {
    animation: toast-slide-in 0.3s ease-out, toast-shake 0.5s ease-in-out 0.3s;
}

/* Progress bar animation */
.toast-progress.animated {
    animation: toast-progress-shrink linear forwards;
}

/* Pulse animation for persistent toasts */
.toast.toast-persistent .toast-icon {
    animation: toast-icon-pop 0.3s ease-out 0.1s both, toast-pulse 2s ease-in-out 0.5s infinite;
}

.toast-icon {
    flex-shrink: 0;
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    border-radius: 50%;
    font-weight: 600;
}

.toast-success .toast-icon {
    color: var(--success);
    background: rgba(34, 197, 94, 0.15);
}

.toast-error .toast-icon {
    color: var(--error);
    background: rgba(239, 68, 68, 0.15);
}

.toast-warning .toast-icon {
    color: var(--warning);
    background: rgba(234, 179, 8, 0.15);
}

.toast-info .toast-icon {
    color: var(--accent);
    background: rgba(59, 130, 246, 0.15);
}

.toast-content {
    flex: 1;
    min-width: 0;
}

.toast-title {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-0);
    margin-bottom: 2px;
}

.toast-message {
    font-size: 13px;
    color: var(--text-2);
    word-break: break-word;
}

.toast-close {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    border-radius: 4px;
    color: var(--text-3);
    cursor: pointer;
    font-size: 16px;
    transition: all 0.15s;
}

.toast-close:hover {
    background: var(--bg-3);
    color: var(--text-1);
}

.toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 3px;
    background: var(--text-3);
    border-radius: 0 0 0 8px;
    transition: width linear;
}

.toast-success .toast-progress {
    background: var(--success);
}

.toast-error .toast-progress {
    background: var(--error);
}

.toast-warning .toast-progress {
    background: var(--warning);
}

.toast-info .toast-progress {
    background: var(--accent);
}

/* Modal */
.modal-overlay {
    position: fixed;
    inset: 0;
    z-index: 1100;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    animation: modal-overlay-fade-in 0.2s ease-out;
}

.modal-overlay.hidden {
    display: none;
}

.modal-overlay.modal-hiding {
    animation: modal-overlay-fade-out 0.15s ease-in forwards;
}

@keyframes modal-overlay-fade-in {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes modal-overlay-fade-out {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

.modal {
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    width: 100%;
    max-width: 480px;
    max-height: calc(100vh - 40px);
    display: flex;
    flex-direction: column;
    animation: modal-slide-in 0.25s ease-out;
}

.modal-overlay.modal-hiding .modal {
    animation: modal-slide-out 0.15s ease-in forwards;
}

@keyframes modal-slide-in {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(-10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes modal-slide-out {
    from {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
    to {
        opacity: 0;
        transform: scale(0.95) translateY(-10px);
    }
}

/* Modal Size Variants */
.modal.modal-sm {
    max-width: 360px;
}

.modal.modal-md {
    max-width: 480px;
}

.modal.modal-lg {
    max-width: 640px;
}

.modal.modal-xl {
    max-width: 800px;
}

.modal.modal-full {
    max-width: calc(100vw - 40px);
    max-height: calc(100vh - 40px);
}

/* Modal Header */
.modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px;
    border-bottom: 1px solid var(--border);
    flex-shrink: 0;
}

.modal-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-0);
    margin: 0;
    text-transform: none;
    letter-spacing: normal;
}

.modal-close {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    border-radius: 6px;
    color: var(--text-2);
    font-size: 20px;
    cursor: pointer;
    transition: all 0.15s;
}

.modal-close:hover {
    background: var(--bg-3);
    color: var(--text-0);
}

.modal-close:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--accent);
}

/* Modal Body */
.modal-body {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    color: var(--text-1);
    font-size: 14px;
    line-height: 1.6;
}

.modal-body:empty {
    display: none;
}

.modal-body p {
    margin-bottom: 12px;
}

.modal-body p:last-child {
    margin-bottom: 0;
}

/* Modal Footer */
.modal-footer {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 8px;
    padding: 16px 20px;
    border-top: 1px solid var(--border);
    flex-shrink: 0;
}

.modal-footer:empty {
    display: none;
}

/* Modal Type Variants */
.modal.modal-danger .modal-header {
    border-bottom-color: var(--error);
}

.modal.modal-danger .modal-title {
    color: var(--error);
}

.modal.modal-warning .modal-header {
    border-bottom-color: var(--warning);
}

.modal.modal-warning .modal-title {
    color: var(--warning);
}

.modal.modal-success .modal-header {
    border-bottom-color: var(--success);
}

.modal.modal-success .modal-title {
    color: var(--success);
}

/* Modal Content Utilities */
.modal-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    margin: 0 auto 16px;
    border-radius: 50%;
    font-size: 24px;
}

.modal-icon.icon-danger {
    background: rgba(239, 68, 68, 0.15);
    color: var(--error);
}

.modal-icon.icon-warning {
    background: rgba(234, 179, 8, 0.15);
    color: var(--warning);
}

.modal-icon.icon-success {
    background: rgba(34, 197, 94, 0.15);
    color: var(--success);
}

.modal-icon.icon-info {
    background: rgba(59, 130, 246, 0.15);
    color: var(--accent);
}

.modal-text-center {
    text-align: center;
}

.modal-text-muted {
    color: var(--text-2);
    font-size: 13px;
}

/* Modal Form Styles */
.modal-body .form-group {
    margin-bottom: 16px;
}

.modal-body .form-group:last-child {
    margin-bottom: 0;
}

.modal-body .form-group label {
    display: block;
    font-size: 13px;
    font-weight: 500;
    color: var(--text-1);
    margin-bottom: 6px;
}

.modal-body .form-group input[type="text"],
.modal-body .form-group input[type="password"],
.modal-body .form-group input[type="email"],
.modal-body .form-group input[type="number"],
.modal-body .form-group textarea,
.modal-body .form-group select {
    width: 100%;
    padding: 10px 14px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-1);
    font-family: inherit;
    font-size: 14px;
    transition: border-color 0.15s;
}

.modal-body .form-group input:focus,
.modal-body .form-group textarea:focus,
.modal-body .form-group select:focus {
    outline: none;
    border-color: var(--accent);
}

.modal-body .form-group textarea {
    resize: vertical;
    min-height: 80px;
}

.modal-body .form-group .form-hint {
    font-size: 12px;
    color: var(--text-3);
    margin-top: 4px;
}

.modal-body .form-group .form-error {
    font-size: 12px;
    color: var(--error);
    margin-top: 4px;
}

/* Responsive */
@media (max-width: 900px) {
    .toast-container {
        top: 12px;
        right: 12px;
        left: 12px;
        max-width: none;
    }

    .toast {
        padding: 12px 14px;
    }

    .testing-layout {
        grid-template-columns: 1fr;
    }

    .nip-list {
        max-height: 250px;
    }

    .nip-card-expanded.visible {
        max-height: 350px;
    }

    .nip-card-title-row {
        flex-direction: column;
        gap: 2px;
    }

    header {
        flex-direction: column;
        gap: 12px;
        align-items: flex-start;
    }

    .tabs {
        overflow-x: auto;
    }

    .relay-grid {
        grid-template-columns: 1fr;
    }

    .profile-banner {
        height: 100px;
    }

    .profile-banner.has-image {
        height: 120px;
    }

    .profile-header {
        flex-direction: column;
        align-items: center;
        text-align: center;
        margin-top: -32px;
    }

    .profile-avatar {
        width: 64px;
        height: 64px;
        border-width: 3px;
        font-size: 20px;
    }

    .profile-avatar.avatar-lg {
        width: 80px;
        height: 80px;
    }

    .profile-avatar.avatar-xl {
        width: 96px;
        height: 96px;
    }

    .profile-info {
        padding-top: 12px;
    }

    .profile-name-row {
        justify-content: center;
    }

    .profile-actions {
        padding-top: 8px;
    }

    .profile-stats {
        justify-content: center;
    }

    .zap-stats-summary {
        justify-content: center;
    }

    .follow-card {
        flex-wrap: wrap;
    }

    .follow-card .follow-avatar {
        width: 32px;
        height: 32px;
        font-size: 12px;
    }

    .follow-relay {
        margin-left: 0;
        width: 100%;
    }

    .monitoring-charts {
        grid-template-columns: 1fr;
    }

    .chart-panel,
    .chart-panel-full {
        min-height: 240px;
    }

    .chart-container {
        height: 180px;
    }

    .chart-container-full {
        height: 200px;
    }

    .chart-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }

    .chart-legend {
        gap: 8px;
    }

    .monitoring-summary {
        gap: 16px;
    }

    .relay-health-grid {
        grid-template-columns: 1fr;
    }

    .relay-health-url {
        max-width: 150px;
    }

    /* Modal Responsive */
    .modal-overlay {
        padding: 12px;
    }

    .modal {
        max-width: 100%;
        max-height: calc(100vh - 24px);
    }

    .modal-header {
        padding: 14px 16px;
    }

    .modal-body {
        padding: 16px;
    }

    .modal-footer {
        padding: 14px 16px;
        flex-wrap: wrap;
    }

    .modal-footer .btn {
        flex: 1;
        min-width: 100px;
    }
}

/* JSON Syntax Highlighting */
.json-highlight {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 16px;
    margin: 0;
    overflow-x: auto;
    font-family: 'Geist Mono', monospace;
    font-size: 13px;
    line-height: 1.5;
}

.json-highlight code {
    background: transparent;
    padding: 0;
    font-family: inherit;
    font-size: inherit;
    color: var(--text-1);
}

.json-key {
    color: #7dd3fc; /* sky-300 */
}

.json-string {
    color: #86efac; /* green-300 */
}

.json-number {
    color: #fcd34d; /* amber-300 */
}

.json-boolean {
    color: #c4b5fd; /* violet-300 */
}

.json-null {
    color: #f87171; /* red-400 */
    font-style: italic;
}

/* JSON highlight in nak console output */
#nak-output .json-highlight {
    margin: 0;
    border: none;
    border-radius: 0;
    background: transparent;
    padding: 0;
}

/* JSON highlight in modal */
.modal-body .json-highlight {
    max-height: 400px;
    overflow-y: auto;
}

/* Loading State Handlers */
.loading-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
    background: rgba(13, 13, 13, 0.85);
    z-index: 10;
    border-radius: inherit;
}

.loading-spinner {
    width: 24px;
    height: 24px;
    border: 2px solid var(--border-1);
    border-top-color: var(--accent);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

.loading-message {
    font-size: 13px;
    color: var(--text-2);
}

.is-loading {
    pointer-events: none;
}

/* Loading indicator (inline) */
.loading-indicator {
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.loading-indicator-sm .loading-spinner {
    width: 16px;
    height: 16px;
    border-width: 2px;
}

.loading-indicator-md .loading-spinner {
    width: 24px;
    height: 24px;
    border-width: 2px;
}

.loading-indicator-lg .loading-spinner {
    width: 32px;
    height: 32px;
    border-width: 3px;
}

.loading-text {
    font-size: 13px;
    color: var(--text-2);
}

.inline-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 40px;
}

/* Button loading state improvements */
.btn.btn-loading {
    position: relative;
    color: var(--text-3);
    pointer-events: none;
    cursor: wait;
}

.btn.btn-loading::after {
    content: '';
    position: absolute;
    width: 14px;
    height: 14px;
    top: 50%;
    left: 50%;
    margin-left: -7px;
    margin-top: -7px;
    border: 2px solid currentColor;
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    opacity: 0;
}

/* Show spinner only when no text is set */
.btn.btn-loading:empty::after {
    opacity: 1;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Thread Viewer (NIP-10) */
.thread-container {
    max-height: 60vh;
    overflow-y: auto;
    padding-right: 8px;
}

.thread-info {
    display: flex;
    gap: 16px;
    padding: 8px 12px;
    background: var(--bg-2);
    border-radius: 6px;
    margin-bottom: 16px;
    font-size: 12px;
    color: var(--text-2);
}

.thread-event {
    position: relative;
    padding: 12px 16px;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 8px;
    margin-bottom: 8px;
    margin-left: calc(var(--thread-depth, 0) * 20px);
    transition: border-color 0.2s ease;
}

.thread-event::before {
    content: '';
    position: absolute;
    left: -12px;
    top: 50%;
    width: 12px;
    height: 2px;
    background: var(--border-light);
    display: none;
}

.thread-event[style*="--thread-depth: 1"]::before,
.thread-event[style*="--thread-depth: 2"]::before,
.thread-event[style*="--thread-depth: 3"]::before,
.thread-event[style*="--thread-depth: 4"]::before,
.thread-event[style*="--thread-depth: 5"]::before {
    display: block;
}

.thread-event.is-target {
    border-color: var(--accent);
    background: var(--bg-3);
}

.thread-event:hover {
    border-color: var(--border-light);
}

.thread-event-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
    flex-wrap: wrap;
}

.thread-author {
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--accent);
    cursor: pointer;
}

.thread-author:hover {
    text-decoration: underline;
}

.thread-time {
    font-size: 11px;
    color: var(--text-3);
}

.thread-badge {
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.02em;
}

.thread-badge.root {
    background: var(--success);
    color: var(--bg-0);
}

.thread-badge.target {
    background: var(--accent);
    color: white;
}

.thread-badge.replies {
    background: var(--bg-4);
    color: var(--text-2);
}

.thread-event-content {
    font-size: 13px;
    line-height: 1.5;
    color: var(--text-1);
    margin-bottom: 8px;
    word-break: break-word;
    white-space: pre-wrap;
}

.thread-event-actions {
    display: flex;
    gap: 8px;
}

.thread-event-actions .btn {
    font-size: 11px;
    padding: 4px 8px;
}

.thread-children {
    margin-top: 0;
}

/* Thread connector lines */
.thread-children::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background: var(--border-light);
}

/* Lightning Bolt Animation for Zaps */
.zap-lightning {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    margin-right: 4px;
    vertical-align: middle;
}

.zap-lightning svg {
    width: 16px;
    height: 16px;
    fill: var(--warning);
    filter: drop-shadow(0 0 2px var(--warning));
}

/* Lightning bolt strike animation */
@keyframes zap-strike {
    0% {
        opacity: 0;
        transform: translateY(-8px) scale(0.5);
        filter: drop-shadow(0 0 0px var(--warning));
    }
    20% {
        opacity: 1;
        transform: translateY(0) scale(1.2);
        filter: drop-shadow(0 0 8px var(--warning));
    }
    40% {
        transform: scale(0.9);
        filter: drop-shadow(0 0 12px var(--warning));
    }
    60% {
        transform: scale(1.1);
        filter: drop-shadow(0 0 6px var(--warning));
    }
    80% {
        transform: scale(1);
        filter: drop-shadow(0 0 4px var(--warning));
    }
    100% {
        opacity: 1;
        transform: scale(1);
        filter: drop-shadow(0 0 2px var(--warning));
    }
}

/* Glow pulse animation for sustained effect */
@keyframes zap-glow {
    0%, 100% {
        filter: drop-shadow(0 0 2px var(--warning));
    }
    50% {
        filter: drop-shadow(0 0 6px var(--warning));
    }
}

/* Flash effect for the zap card background */
@keyframes zap-card-flash {
    0% {
        background: var(--bg-2);
        box-shadow: none;
    }
    15% {
        background: rgba(245, 158, 11, 0.15);
        box-shadow: 0 0 20px rgba(245, 158, 11, 0.3), inset 0 0 10px rgba(245, 158, 11, 0.1);
    }
    100% {
        background: var(--bg-2);
        box-shadow: none;
    }
}

/* Animation classes */
.zap-lightning.animate svg {
    animation: zap-strike 0.5s ease-out forwards;
}

.zap-lightning.animate-glow svg {
    animation: zap-glow 2s ease-in-out infinite;
}

.zap-card.zap-animate {
    animation: zap-card-flash 0.8s ease-out forwards;
}

/* Staggered animation for zap list */
.zap-card.zap-stagger:nth-child(1) { animation-delay: 0ms; }
.zap-card.zap-stagger:nth-child(2) { animation-delay: 50ms; }
.zap-card.zap-stagger:nth-child(3) { animation-delay: 100ms; }
.zap-card.zap-stagger:nth-child(4) { animation-delay: 150ms; }
.zap-card.zap-stagger:nth-child(5) { animation-delay: 200ms; }
.zap-card.zap-stagger:nth-child(6) { animation-delay: 250ms; }
.zap-card.zap-stagger:nth-child(7) { animation-delay: 300ms; }
.zap-card.zap-stagger:nth-child(8) { animation-delay: 350ms; }
.zap-card.zap-stagger:nth-child(9) { animation-delay: 400ms; }
.zap-card.zap-stagger:nth-child(10) { animation-delay: 450ms; }

/* Real-time zap event animation for events tab */
.event-card.zap-event {
    position: relative;
    overflow: hidden;
}

.event-card.zap-event.zap-new {
    animation: zap-card-flash 0.8s ease-out forwards;
}

.event-card.zap-event::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
}

.event-card.zap-event.zap-new::before {
    animation: zap-overlay-flash 0.6s ease-out forwards;
}

@keyframes zap-overlay-flash {
    0% {
        opacity: 0;
        background: radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.4) 0%, transparent 50%);
    }
    30% {
        opacity: 1;
        background: radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.4) 0%, transparent 50%);
    }
    100% {
        opacity: 0;
        background: radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0) 0%, transparent 50%);
    }
}

/* Inline lightning bolt for zap amounts */
.zap-amount .zap-lightning {
    width: 16px;
    height: 16px;
    margin-right: 2px;
}

.zap-amount .zap-lightning svg {
    width: 14px;
    height: 14px;
}

/* ==========================================
   Mobile Navigation - Collapsible Sidebar
   ========================================== */

/* Mobile menu button (hamburger) - hidden by default */
.mobile-menu-btn {
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 5px;
    width: 44px;
    height: 44px;
    padding: 10px;
    background: transparent;
    border: none;
    cursor: pointer;
    border-radius: 6px;
    transition: background 0.15s;
    -webkit-tap-highlight-color: transparent;
}

.mobile-menu-btn:hover,
.mobile-menu-btn:focus {
    background: var(--bg-3);
    outline: none;
}

.mobile-menu-btn:active {
    background: var(--bg-4);
}

.hamburger-line {
    display: block;
    width: 20px;
    height: 2px;
    background: var(--text-1);
    border-radius: 1px;
    transition: transform 0.3s, opacity 0.3s;
}

/* Hamburger animation to X */
.mobile-menu-btn.active .hamburger-line:nth-child(1) {
    transform: translateY(7px) rotate(45deg);
}

.mobile-menu-btn.active .hamburger-line:nth-child(2) {
    opacity: 0;
}

.mobile-menu-btn.active .hamburger-line:nth-child(3) {
    transform: translateY(-7px) rotate(-45deg);
}

/* Mobile navigation overlay */
.mobile-nav-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.6);
    z-index: 998;
    opacity: 0;
    transition: opacity 0.3s;
    -webkit-backdrop-filter: blur(2px);
    backdrop-filter: blur(2px);
}

.mobile-nav-overlay.active {
    opacity: 1;
}

/* Mobile responsive styles */
@media (max-width: 768px) {
    /* Show mobile menu button */
    .mobile-menu-btn {
        display: flex;
        flex-shrink: 0;
    }

    /* Show overlay when active */
    .mobile-nav-overlay {
        display: block;
        pointer-events: none;
    }

    .mobile-nav-overlay.active {
        pointer-events: auto;
    }

    /* Header adjustments for mobile */
    header {
        flex-direction: row;
        align-items: center;
        padding: 12px 16px;
        gap: 8px;
    }

    .logo {
        flex: 1;
        gap: 8px;
    }

    .logo-text {
        font-size: 18px;
    }

    .logo-subtitle {
        display: none;
    }

    .header-status-group {
        gap: 8px;
    }

    .status {
        padding: 4px 8px;
        font-size: 11px;
    }

    #connection-text,
    #extension-status-text {
        display: none;
    }

    /* Tabs become a sidebar drawer */
    .tabs {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        width: 280px;
        max-width: 80vw;
        flex-direction: column;
        gap: 4px;
        padding: 72px 16px 24px 16px;
        background: var(--bg-1);
        border-right: 1px solid var(--border);
        border-bottom: none;
        z-index: 999;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    .tabs.open {
        transform: translateX(0);
    }

    /* Tab items as full-width buttons in sidebar */
    .tab {
        width: 100%;
        text-align: left;
        padding: 14px 16px;
        font-size: 15px;
        border-radius: 8px;
        min-height: 48px;
        display: flex;
        align-items: center;
    }

    .tab.active {
        background: var(--accent);
        color: var(--text-0);
    }

    .tab:active {
        transform: scale(0.98);
    }

    /* Main content adjustments */
    main {
        padding: 16px;
    }

    /* Input groups stack on mobile */
    .input-group {
        flex-direction: column;
    }

    .input-group input {
        width: 100%;
    }

    .input-group .btn {
        width: 100%;
        justify-content: center;
    }

    /* Touch-friendly buttons */
    .btn {
        min-height: 44px;
        padding: 12px 16px;
    }

    .btn.small {
        min-height: 36px;
        padding: 8px 12px;
    }

    /* Filters stack vertically */
    .filters {
        flex-direction: column;
        gap: 8px;
    }

    .filters input {
        width: 100%;
    }

    /* Query Builder mobile */
    .query-builder-row {
        grid-template-columns: 1fr;
        gap: 12px;
    }

    .query-builder-field-limit {
        max-width: none;
    }

    .query-builder-actions {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
    }

    .query-builder-checkbox {
        margin-left: 0;
        justify-content: flex-start;
    }

    /* Presets wrap better */
    .presets {
        flex-wrap: wrap;
        gap: 8px;
    }

    .presets span {
        width: 100%;
        margin-bottom: 4px;
    }

    /* Panel adjustments */
    .panel {
        padding: 16px;
    }

    /* Event controls stack */
    .event-controls {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    .event-controls label {
        min-height: 44px;
        display: flex;
        align-items: center;
    }

    /* Console input stacks */
    .console-input {
        flex-wrap: wrap;
        gap: 8px;
    }

    .console-input .prompt {
        width: 100%;
    }

    .console-input input {
        flex: 1;
        min-width: 0;
    }

    /* Encode options wrap */
    .encode-options {
        flex-wrap: wrap;
        gap: 8px;
    }

    /* Key rows stack */
    .key-row {
        flex-direction: column;
        gap: 8px;
    }

    .key-value {
        flex-direction: column;
        gap: 8px;
    }

    .key-value input {
        width: 100%;
    }

    .key-value .btn {
        width: auto;
        align-self: flex-start;
    }

    /* Publish layout single column */
    .publish-layout {
        grid-template-columns: 1fr;
    }

    /* Tag input row stacks */
    .tag-input-row {
        flex-direction: column;
        gap: 8px;
    }

    .tag-input-row input {
        width: 100%;
    }

    /* Tag builder mobile styles */
    .tag-builder-row {
        flex-direction: column;
        gap: 8px;
    }

    .tag-row-key {
        width: 100%;
    }

    .tag-row-values {
        width: 100%;
    }

    .tag-value-wrapper {
        max-width: none;
        width: 100%;
    }

    .tag-row-remove {
        align-self: flex-end;
        margin-left: 0;
    }

    /* Signing options take full width */
    .signing-options {
        flex-direction: column;
    }

    .radio-option {
        padding: 14px;
        min-height: 64px;
    }

    /* Publish actions stack */
    .publish-actions {
        flex-direction: column;
        gap: 8px;
    }

    .publish-actions .btn {
        width: 100%;
    }

    /* Relay checkbox list */
    .relay-checkbox-list label {
        padding: 12px 8px;
        min-height: 44px;
    }

    /* Test history header */
    .test-history-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }

    /* NIP test items */
    .nip-test-item {
        padding: 14px;
        min-height: 56px;
    }

    /* Test step items */
    .test-step {
        padding: 12px;
    }

    /* Monitoring summary wraps */
    .monitoring-summary {
        flex-wrap: wrap;
        gap: 12px;
    }

    .monitoring-stat {
        min-width: calc(50% - 8px);
    }

    /* Zap stats summary */
    .zap-stats-summary {
        flex-wrap: wrap;
    }

    .zap-stat {
        min-width: calc(50% - 8px);
    }

    /* Profile tabs scroll horizontally */
    .profile-tabs {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 8px;
    }

    .profile-tab {
        min-height: 44px;
        padding: 12px 16px;
        white-space: nowrap;
    }
}

/* Smaller mobile breakpoint */
@media (max-width: 480px) {
    header {
        padding: 10px 12px;
    }

    .logo-text {
        font-size: 16px;
    }

    main {
        padding: 12px;
    }

    .panel {
        padding: 14px;
        margin-bottom: 12px;
    }

    .tabs {
        width: 260px;
        padding: 64px 12px 20px 12px;
    }

    .tab {
        padding: 12px 14px;
        font-size: 14px;
    }

    /* Monitoring stats single column on very small screens */
    .monitoring-stat {
        min-width: 100%;
    }

    .zap-stat {
        min-width: 100%;
    }

    /* Modal full width */
    .modal {
        margin: 0;
        border-radius: 0;
        max-height: 100vh;
    }

    .modal-overlay {
        padding: 0;
    }
}

/* ===== Keyboard Shortcuts Help ===== */
.shortcuts-help {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.shortcuts-section h4 {
    color: var(--text-1);
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border);
}

.shortcut-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 0.5rem 1rem;
}

.shortcut-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
}

.shortcut-item kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 1.5rem;
    height: 1.5rem;
    padding: 0 0.375rem;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--text-1);
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 4px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.shortcut-item span {
    color: var(--text-2);
}

@media (max-width: 480px) {
    .shortcut-list {
        grid-template-columns: 1fr;
    }
}

/* ===== Event Preview Modal ===== */
.event-preview-modal {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.event-preview-summary {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 1rem;
    background: var(--bg-1);
    border-radius: 6px;
    border: 1px solid var(--border);
}

.preview-summary-row {
    display: flex;
    gap: 0.75rem;
    align-items: flex-start;
}

.preview-summary-row .preview-label {
    min-width: 80px;
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--text-3);
    text-transform: uppercase;
    letter-spacing: 0.02em;
}

.preview-summary-row .preview-value {
    flex: 1;
    font-size: 0.875rem;
    color: var(--text-1);
    word-break: break-all;
}

.preview-summary-row .preview-value.mono {
    font-family: var(--font-mono);
    font-size: 0.8125rem;
}

.preview-summary-row .preview-value.content-preview {
    white-space: pre-wrap;
    color: var(--text-2);
}

.event-preview-json-section {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.json-section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.json-section-title {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-1);
}

.event-preview-json {
    margin: 0;
    padding: 1rem;
    background: var(--bg-0);
    border: 1px solid var(--border);
    border-radius: 6px;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    line-height: 1.5;
    color: var(--text-2);
    overflow-x: auto;
    max-height: 250px;
    overflow-y: auto;
    white-space: pre;
}

.event-preview-relays {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background: var(--bg-1);
    border-radius: 6px;
    border: 1px solid var(--border);
}

.event-preview-relays .relays-label {
    font-size: 0.8125rem;
    font-weight: 500;
    color: var(--text-2);
}

.event-preview-relays .relays-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.375rem;
}

.event-preview-relays .relay-tag {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 4px;
    font-size: 0.75rem;
    font-family: var(--font-mono);
    color: var(--text-2);
}

@media (max-width: 640px) {
    .event-preview-json {
        max-height: 150px;
        font-size: 0.6875rem;
    }

    .preview-summary-row {
        flex-direction: column;
        gap: 0.25rem;
    }

    .preview-summary-row .preview-label {
        min-width: auto;
    }
}

/* ========================================
   Event Lookup Section
   ======================================== */

.lookup-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.lookup-input-row {
    display: flex;
    gap: 8px;
    align-items: center;
}

.lookup-input-row .form-input {
    flex: 1;
    font-family: var(--font-mono);
    font-size: 13px;
}

.lookup-result {
    padding: 16px;
    border-radius: 6px;
    border: 1px solid var(--border);
}

.lookup-result.hidden {
    display: none;
}

.lookup-result.success {
    background: color-mix(in srgb, var(--success) 10%, var(--bg-2));
    border-color: var(--success);
}

.lookup-result.error {
    background: color-mix(in srgb, var(--error) 10%, var(--bg-2));
    border-color: var(--error);
}

.lookup-result-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.lookup-result-header {
    display: flex;
    align-items: center;
    gap: 10px;
}

.lookup-result-icon {
    font-size: 24px;
    line-height: 1;
}

.lookup-result-icon.success {
    color: var(--success);
}

.lookup-result-icon.error {
    color: var(--error);
}

.lookup-result-title {
    font-weight: 600;
    font-size: 14px;
    color: var(--text-0);
}

.lookup-result-details {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px;
    background: var(--bg-2);
    border-radius: 4px;
    border: 1px solid var(--border);
}

.lookup-detail-row {
    display: flex;
    gap: 8px;
    font-size: 12px;
    align-items: flex-start;
}

.lookup-detail-label {
    min-width: 80px;
    color: var(--text-3);
    flex-shrink: 0;
}

.lookup-detail-value {
    color: var(--text-1);
    word-break: break-all;
    flex: 1;
}

.lookup-detail-value.monospace {
    font-family: var(--font-mono);
}

.lookup-content {
    line-height: 1.5;
    white-space: pre-wrap;
}

.lookup-detail-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

.lookup-tag {
    display: flex;
    gap: 4px;
    padding: 2px 6px;
    background: var(--bg-3);
    border-radius: 4px;
    font-size: 11px;
}

.lookup-tag-name {
    color: var(--accent);
    font-weight: 600;
}

.lookup-tag-value {
    color: var(--text-2);
    font-family: var(--font-mono);
}

.lookup-tag-more {
    font-size: 11px;
    color: var(--text-3);
    padding: 2px 6px;
}

.lookup-empty {
    color: var(--text-3);
    font-style: italic;
}

.lookup-error-message {
    color: var(--error);
    font-size: 13px;
}

.lookup-result-actions {
    display: flex;
    gap: 8px;
    padding-top: 8px;
    border-top: 1px solid var(--border);
}

@media (max-width: 640px) {
    .lookup-input-row {
        flex-direction: column;
    }

    .lookup-input-row .form-input {
        width: 100%;
    }

    .lookup-input-row .btn {
        width: 100%;
    }

    .lookup-detail-row {
        flex-direction: column;
        gap: 2px;
    }

    .lookup-detail-label {
        min-width: auto;
    }

    .lookup-result-actions {
        flex-direction: column;
    }

    .lookup-result-actions .btn {
        width: 100%;
    }
}

/* ========================================
   All Relays Result Section
   ======================================== */

.all-relays-result {
    margin-top: 16px;
    padding: 16px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: var(--bg-2);
}

.all-relays-result.hidden {
    display: none;
}

.all-relays-result.success {
    background: var(--bg-2);
    border-color: var(--border);
}

.all-relays-result.error {
    background: color-mix(in srgb, var(--error) 10%, var(--bg-2));
    border-color: var(--error);
}

.all-relays-result-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.all-relays-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--border);
}

.all-relays-header.error {
    border-bottom: none;
    padding-bottom: 0;
}

.all-relays-title {
    font-weight: 600;
    font-size: 14px;
    color: var(--text-0);
}

.all-relays-summary {
    font-size: 13px;
    color: var(--text-2);
}

.all-relays-event-id {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: var(--bg-1);
    border-radius: 4px;
}

.all-relays-label {
    font-size: 12px;
    color: var(--text-2);
}

.all-relays-id {
    font-size: 12px;
    color: var(--text-1);
    flex: 1;
}

.all-relays-list {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.relay-results-header {
    display: grid;
    grid-template-columns: 32px 1fr 120px 80px;
    gap: 8px;
    padding: 8px 12px;
    background: var(--bg-1);
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    color: var(--text-2);
    text-transform: uppercase;
}

.relay-result-row {
    display: grid;
    grid-template-columns: 32px 1fr 120px 80px;
    gap: 8px;
    padding: 8px 12px;
    border-radius: 4px;
    font-size: 13px;
    align-items: center;
    transition: background 0.15s ease;
}

.relay-result-row:hover {
    background: var(--bg-3);
}

.relay-result-row.found {
    background: color-mix(in srgb, var(--success) 8%, var(--bg-2));
}

.relay-result-row.found:hover {
    background: color-mix(in srgb, var(--success) 12%, var(--bg-2));
}

.relay-result-row.error {
    background: color-mix(in srgb, var(--error) 8%, var(--bg-2));
}

.relay-result-row.error:hover {
    background: color-mix(in srgb, var(--error) 12%, var(--bg-2));
}

.relay-result-row.not-found {
    background: color-mix(in srgb, var(--warning) 5%, var(--bg-2));
}

.relay-result-row.not-found:hover {
    background: color-mix(in srgb, var(--warning) 10%, var(--bg-2));
}

.relay-result-icon {
    font-size: 14px;
    text-align: center;
}

.relay-result-icon.found {
    color: var(--success);
}

.relay-result-icon.error {
    color: var(--error);
}

.relay-result-icon.not-found {
    color: var(--warning);
}

.relay-result-url {
    font-family: var(--font-mono);
    font-size: 12px;
    color: var(--text-1);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.relay-result-status {
    font-size: 12px;
    color: var(--text-2);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.relay-result-row.found .relay-result-status {
    color: var(--success);
    font-weight: 500;
}

.relay-result-row.error .relay-result-status {
    color: var(--error);
}

.relay-result-row.not-found .relay-result-status {
    color: var(--warning);
}

/* Relay availability status badge */
.relay-status-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.relay-status-badge.has-event {
    background: color-mix(in srgb, var(--success) 20%, transparent);
    color: var(--success);
    border: 1px solid color-mix(in srgb, var(--success) 30%, transparent);
}

.relay-status-badge.missing {
    background: color-mix(in srgb, var(--warning) 15%, transparent);
    color: var(--warning);
    border: 1px solid color-mix(in srgb, var(--warning) 25%, transparent);
}

.relay-status-badge.error {
    background: color-mix(in srgb, var(--error) 15%, transparent);
    color: var(--error);
    border: 1px solid color-mix(in srgb, var(--error) 25%, transparent);
}

/* Relay availability summary bar */
.relay-availability-bar {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px;
    background: var(--bg-1);
    border-radius: 6px;
    margin-bottom: 12px;
}

.relay-availability-progress {
    display: flex;
    height: 8px;
    border-radius: 4px;
    overflow: hidden;
    background: var(--bg-3);
}

.relay-availability-progress .has-event-bar {
    background: var(--success);
    transition: width 0.3s ease;
}

.relay-availability-progress .missing-bar {
    background: var(--warning);
    transition: width 0.3s ease;
}

.relay-availability-progress .error-bar {
    background: var(--error);
    transition: width 0.3s ease;
}

.relay-availability-legend {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
}

.relay-availability-legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    color: var(--text-2);
}

.relay-availability-legend-item .legend-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
}

.relay-availability-legend-item .legend-dot.has-event {
    background: var(--success);
}

.relay-availability-legend-item .legend-dot.missing {
    background: var(--warning);
}

.relay-availability-legend-item .legend-dot.error {
    background: var(--error);
}

.relay-availability-legend-item .legend-count {
    font-weight: 600;
    color: var(--text-1);
}

.relay-result-latency {
    font-family: var(--font-mono);
    font-size: 11px;
    color: var(--text-2);
    text-align: right;
}

.all-relays-error {
    padding: 12px;
}

.all-relays-error-message {
    color: var(--error);
    font-size: 13px;
}

/* Relay Data Consistency Check / Diff Section */
.relay-data-diff {
    margin: 12px 0;
    padding: 12px;
    background: var(--bg-1);
    border-radius: 6px;
    border: 1px solid var(--border);
}

.relay-data-diff-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border);
}

.relay-data-diff-title {
    font-weight: 600;
    font-size: 13px;
    color: var(--text-0);
}

.relay-data-diff-summary {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    padding: 4px 10px;
    border-radius: 4px;
}

.relay-data-diff-summary.no-differences {
    background: color-mix(in srgb, var(--success) 15%, transparent);
    color: var(--success);
}

.relay-data-diff-summary.has-differences {
    background: color-mix(in srgb, var(--warning) 15%, transparent);
    color: var(--warning);
}

.relay-data-diff-icon {
    font-size: 14px;
}

.relay-data-diff-details {
    overflow-x: auto;
}

.relay-data-diff-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 12px;
}

.relay-data-diff-table th,
.relay-data-diff-table td {
    padding: 8px 10px;
    text-align: left;
    border-bottom: 1px solid var(--border);
}

.relay-data-diff-table th {
    background: var(--bg-2);
    font-weight: 600;
    color: var(--text-1);
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.relay-data-diff-table th.relay-data-diff-field {
    width: 100px;
    min-width: 100px;
}

.relay-data-diff-table th.relay-data-diff-relay {
    font-family: var(--font-mono);
    font-size: 10px;
    max-width: 150px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.relay-data-diff-row.same {
    background: transparent;
}

.relay-data-diff-row.different {
    background: color-mix(in srgb, var(--warning) 8%, transparent);
}

.relay-data-diff-row.different:hover {
    background: color-mix(in srgb, var(--warning) 12%, transparent);
}

.relay-data-diff-field {
    font-weight: 500;
    color: var(--text-1);
}

.relay-data-diff-value {
    font-family: var(--font-mono);
    font-size: 11px;
    color: var(--text-2);
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.relay-data-diff-value.empty {
    color: var(--text-3);
}

.relay-data-diff-tags {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid var(--border);
}

.relay-data-diff-tags-header {
    font-weight: 600;
    font-size: 12px;
    color: var(--text-1);
    margin-bottom: 8px;
}

.relay-data-diff-tags-table th:first-child,
.relay-data-diff-tags-table td:first-child {
    width: 40px;
    min-width: 40px;
    text-align: center;
}

@media (max-width: 768px) {
    .all-relays-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 4px;
    }

    .relay-results-header,
    .relay-result-row {
        grid-template-columns: 24px 1fr 60px;
    }

    .relay-header-result,
    .relay-result-status {
        display: none;
    }

    .all-relays-event-id {
        flex-direction: column;
        align-items: flex-start;
    }

    .relay-data-diff-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }

    .relay-data-diff-table {
        font-size: 11px;
    }

    .relay-data-diff-table th,
    .relay-data-diff-table td {
        padding: 6px 8px;
    }

    .relay-data-diff-value {
        max-width: 120px;
    }
}

/* ========================================
   Verify Event Section
   ======================================== */

.verify-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.verify-textarea {
    font-family: var(--font-mono);
    font-size: 12px;
    min-height: 150px;
    resize: vertical;
}

.verify-actions {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.verify-result {
    padding: 16px;
    border-radius: 6px;
    border: 1px solid var(--border);
}

.verify-result.hidden {
    display: none;
}

.verify-result.valid {
    background: color-mix(in srgb, var(--success) 10%, var(--bg-2));
    border-color: var(--success);
}

.verify-result.invalid {
    background: color-mix(in srgb, var(--error) 10%, var(--bg-2));
    border-color: var(--error);
}

.verify-result-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.verify-result-header {
    display: flex;
    align-items: center;
    gap: 10px;
}

.verify-result-icon {
    font-size: 24px;
    line-height: 1;
}

.verify-result-icon.valid {
    color: var(--success);
}

.verify-result-icon.invalid {
    color: var(--error);
}

.verify-result-text {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.verify-result-title {
    font-weight: 600;
    font-size: 14px;
    color: var(--text-0);
}

.verify-result-subtitle {
    font-size: 12px;
    color: var(--text-2);
}

.verify-result-details {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px;
    background: var(--bg-2);
    border-radius: 4px;
    border: 1px solid var(--border);
}

.verify-detail-row {
    display: flex;
    gap: 8px;
    font-size: 12px;
}

.verify-detail-label {
    min-width: 80px;
    color: var(--text-3);
    flex-shrink: 0;
}

.verify-detail-value {
    font-family: var(--font-mono);
    color: var(--text-1);
    word-break: break-all;
}

.verify-detail-value.truncated {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 300px;
}

@media (max-width: 640px) {
    .verify-actions {
        flex-direction: column;
    }

    .verify-actions .btn {
        width: 100%;
    }

    .verify-detail-row {
        flex-direction: column;
        gap: 2px;
    }

    .verify-detail-label {
        min-width: auto;
    }

    .verify-detail-value.truncated {
        max-width: 100%;
    }
}

/* ========================================
   Event Diff Section
   ======================================== */

.diff-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.diff-inputs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
}

.diff-input-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.diff-input-group label {
    font-size: 12px;
    font-weight: 500;
    color: var(--text-2);
}

.diff-textarea {
    font-family: var(--font-mono);
    font-size: 11px;
    min-height: 120px;
    resize: vertical;
}

.diff-actions {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.diff-result {
    padding: 16px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: var(--bg-2);
}

.diff-result.hidden {
    display: none;
}

.diff-result.identical {
    border-color: var(--success);
    background: color-mix(in srgb, var(--success) 5%, var(--bg-2));
}

.diff-result.different {
    border-color: var(--warning);
    background: color-mix(in srgb, var(--warning) 5%, var(--bg-2));
}

.diff-result-content {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.diff-summary {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 14px;
    border-radius: 4px;
    font-weight: 500;
}

.diff-summary.identical {
    background: color-mix(in srgb, var(--success) 15%, var(--bg-3));
    color: var(--success);
}

.diff-summary.different {
    background: color-mix(in srgb, var(--warning) 15%, var(--bg-3));
    color: var(--warning);
}

.diff-summary-icon {
    font-size: 18px;
    font-weight: 700;
}

.diff-summary-text {
    font-size: 13px;
}

/* Side-by-side comparison table */
.diff-table-container {
    overflow-x: auto;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: var(--bg-1);
}

.diff-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 12px;
}

.diff-table thead {
    background: var(--bg-3);
    position: sticky;
    top: 0;
}

.diff-table th {
    padding: 10px 12px;
    text-align: left;
    font-weight: 600;
    color: var(--text-2);
    border-bottom: 1px solid var(--border);
    white-space: nowrap;
}

.diff-table th.diff-table-field {
    width: 100px;
    min-width: 100px;
}

.diff-table th.diff-table-index {
    width: 40px;
    min-width: 40px;
    text-align: center;
}

.diff-table th.diff-table-a {
    background: color-mix(in srgb, var(--error) 10%, var(--bg-3));
    border-left: 3px solid var(--error);
}

.diff-table th.diff-table-b {
    background: color-mix(in srgb, var(--success) 10%, var(--bg-3));
    border-left: 3px solid var(--success);
}

.diff-table th.diff-table-status {
    width: 80px;
    min-width: 80px;
    text-align: center;
}

.diff-table tbody tr {
    transition: background 0.15s ease;
}

.diff-table tbody tr:hover {
    background: var(--bg-2);
}

.diff-table tbody tr.changed {
    background: color-mix(in srgb, var(--warning) 5%, var(--bg-1));
}

.diff-table tbody tr.changed:hover {
    background: color-mix(in srgb, var(--warning) 10%, var(--bg-1));
}

.diff-table td {
    padding: 8px 12px;
    border-bottom: 1px solid var(--border);
    vertical-align: top;
}

.diff-table td.diff-table-field {
    font-weight: 600;
    color: var(--text-2);
}

.diff-table td.diff-table-index {
    text-align: center;
    color: var(--text-3);
    font-weight: 500;
}

.diff-table td.diff-table-value {
    font-family: var(--font-mono);
    font-size: 11px;
    color: var(--text-1);
    word-break: break-all;
    max-width: 300px;
}

.diff-table td.diff-table-a {
    border-left: 3px solid var(--error);
    background: color-mix(in srgb, var(--error) 3%, transparent);
}

.diff-table td.diff-table-b {
    border-left: 3px solid var(--success);
    background: color-mix(in srgb, var(--success) 3%, transparent);
}

.diff-table td.diff-table-status {
    text-align: center;
}

.diff-table td.empty {
    color: var(--text-3);
    font-style: italic;
}

.diff-table tbody tr:last-child td {
    border-bottom: none;
}

.diff-status-badge {
    display: inline-block;
    font-size: 10px;
    font-weight: 500;
    padding: 2px 8px;
    border-radius: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.diff-status-badge.equal {
    background: var(--bg-3);
    color: var(--text-3);
}

.diff-status-badge.changed {
    background: color-mix(in srgb, var(--warning) 20%, var(--bg-3));
    color: var(--warning);
}

.diff-empty {
    color: var(--text-3);
}

.diff-tags-summary {
    display: flex;
    gap: 12px;
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid var(--border);
}

.diff-tags-count {
    font-size: 12px;
    font-weight: 500;
    padding: 4px 10px;
    border-radius: 4px;
}

.diff-tags-count.removed {
    background: color-mix(in srgb, var(--error) 15%, var(--bg-2));
    color: var(--error);
}

.diff-tags-count.added {
    background: color-mix(in srgb, var(--success) 15%, var(--bg-2));
    color: var(--success);
}

.diff-tags-table {
    margin-top: 12px;
}

.diff-tags {
    padding: 12px;
    border-radius: 4px;
    border: 1px solid var(--border);
    background: var(--bg-1);
}

.diff-tags-header {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-2);
    margin-bottom: 12px;
}

.diff-tags-section {
    margin-bottom: 10px;
}

.diff-tags-section:last-child {
    margin-bottom: 0;
}

.diff-tags-label {
    display: block;
    font-size: 11px;
    font-weight: 500;
    margin-bottom: 6px;
}

.diff-tags-section.removed .diff-tags-label {
    color: var(--error);
}

.diff-tags-section.added .diff-tags-label {
    color: var(--success);
}

.diff-tag {
    font-family: var(--font-mono);
    font-size: 11px;
    padding: 4px 8px;
    border-radius: 3px;
    margin-bottom: 4px;
    word-break: break-all;
}

.diff-tag.removed {
    background: color-mix(in srgb, var(--error) 10%, var(--bg-2));
    border: 1px solid color-mix(in srgb, var(--error) 30%, var(--border));
    color: var(--text-1);
}

.diff-tag.added {
    background: color-mix(in srgb, var(--success) 10%, var(--bg-2));
    border: 1px solid color-mix(in srgb, var(--success) 30%, var(--border));
    color: var(--text-1);
}

@media (max-width: 768px) {
    .diff-inputs {
        grid-template-columns: 1fr;
    }

    .diff-actions {
        flex-direction: column;
    }

    .diff-actions .btn {
        width: 100%;
    }

    .diff-table {
        font-size: 11px;
    }

    .diff-table th,
    .diff-table td {
        padding: 6px 8px;
    }

    .diff-table th.diff-table-field,
    .diff-table td.diff-table-field {
        width: 80px;
        min-width: 80px;
    }

    .diff-table td.diff-table-value {
        font-size: 10px;
        max-width: 150px;
    }

    .diff-table th.diff-table-status,
    .diff-table td.diff-table-status {
        width: 60px;
        min-width: 60px;
    }

    .diff-status-badge {
        font-size: 9px;
        padding: 2px 6px;
    }

    .diff-tags-summary {
        flex-direction: column;
        gap: 8px;
    }
}

/* ========================================
   Batch Query Section
   ======================================== */

.batch-query-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.batch-query-textarea {
    font-family: var(--font-mono);
    font-size: 11px;
    min-height: 120px;
    resize: vertical;
}

.batch-query-actions {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
}

.batch-query-count {
    font-size: 12px;
    color: var(--text-3);
    margin-left: auto;
}

.batch-query-result {
    padding: 16px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: var(--bg-2);
}

.batch-query-result.hidden {
    display: none;
}

.batch-query-summary {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 10px 14px;
    border-radius: 4px;
    background: var(--bg-3);
    margin-bottom: 12px;
    font-size: 13px;
    font-weight: 500;
}

.batch-found {
    color: var(--success);
}

.batch-missing {
    color: var(--error);
}

.batch-time {
    color: var(--text-3);
    margin-left: auto;
}

.batch-query-results {
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-height: 400px;
    overflow-y: auto;
}

.batch-result-item {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px;
    border-radius: 6px;
    background: var(--bg-1);
    border: 1px solid var(--border);
}

.batch-result-item.found {
    border-color: color-mix(in srgb, var(--success) 30%, var(--border));
}

.batch-result-item.not-found {
    border-color: color-mix(in srgb, var(--error) 30%, var(--border));
    opacity: 0.7;
}

.batch-result-main {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 8px;
}

.batch-result-icon {
    font-weight: 700;
    font-size: 14px;
    width: 20px;
    text-align: center;
}

.batch-result-icon.found {
    color: var(--success);
}

.batch-result-icon.not-found {
    color: var(--error);
}

.batch-result-id {
    font-size: 12px;
    color: var(--text-2);
}

.batch-event-info {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 8px;
    flex: 1;
    min-width: 200px;
}

.batch-event-kind {
    font-size: 11px;
    font-weight: 500;
    padding: 2px 6px;
    border-radius: 3px;
    background: var(--accent);
    color: white;
}

.batch-event-author {
    font-size: 11px;
    color: var(--text-3);
}

.batch-event-content {
    font-size: 11px;
    color: var(--text-2);
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    min-width: 100px;
    max-width: 300px;
}

.batch-relay-availability {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 11px;
}

.batch-relay-found {
    color: var(--success);
}

.batch-relay-missing {
    color: var(--error);
}

.batch-result-actions {
    display: flex;
    align-items: center;
    gap: 6px;
    flex-wrap: wrap;
}

.batch-not-found-label {
    font-size: 11px;
    color: var(--error);
    font-style: italic;
}

@media (max-width: 768px) {
    .batch-query-actions {
        flex-direction: column;
        align-items: stretch;
    }

    .batch-query-count {
        margin-left: 0;
        text-align: center;
    }

    .batch-query-summary {
        flex-direction: column;
        gap: 8px;
        text-align: center;
    }

    .batch-time {
        margin-left: 0;
    }

    .batch-result-main {
        flex-direction: column;
        align-items: flex-start;
    }

    .batch-event-info {
        width: 100%;
    }

    .batch-event-content {
        max-width: 100%;
    }
}

/* Event Details Modal */
.event-details-modal {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.event-detail-section {
    background: var(--bg-2);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 12px;
}

.event-detail-section-title {
    margin: 0 0 10px 0;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-2);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.event-detail-row {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 8px;
    font-size: 13px;
}

.event-detail-row:last-child {
    margin-bottom: 0;
}

.event-detail-row.clickable {
    cursor: pointer;
    padding: 6px 8px;
    margin: -6px -8px;
    border-radius: 4px;
    transition: background-color 0.15s ease;
}

.event-detail-row.clickable:hover {
    background: var(--bg-3);
}

.event-detail-label {
    min-width: 110px;
    flex-shrink: 0;
    color: var(--text-3);
    font-weight: 500;
}

.event-detail-value {
    flex: 1;
    color: var(--text-1);
    word-break: break-all;
}

.event-detail-value.monospace {
    font-family: var(--font-mono);
    font-size: 12px;
}

.event-detail-value.link {
    color: var(--accent);
}

.event-detail-empty {
    color: var(--text-3);
    font-style: italic;
}

.event-detail-content-box {
    position: relative;
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 10px;
}

.event-detail-content {
    margin: 0;
    font-family: var(--font-mono);
    font-size: 12px;
    color: var(--text-1);
    white-space: pre-wrap;
    word-break: break-word;
    max-height: 200px;
    overflow-y: auto;
}

.event-detail-content-box .content-copy-btn {
    position: absolute;
    top: 6px;
    right: 6px;
    opacity: 0.7;
}

.event-detail-content-box:hover .content-copy-btn {
    opacity: 1;
}

.event-detail-tags-container {
    display: flex;
    flex-direction: column;
    gap: 6px;
    max-height: 250px;
    overflow-y: auto;
}

.event-detail-tag {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 8px;
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 4px;
    font-size: 12px;
}

.event-detail-tag-index {
    color: var(--text-3);
    font-family: var(--font-mono);
    min-width: 24px;
}

.event-detail-tag-name {
    font-weight: 600;
    color: var(--accent);
    min-width: 40px;
}

.event-detail-tag-value {
    flex: 1;
    font-family: var(--font-mono);
    color: var(--text-1);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.event-detail-tag .copy-btn {
    flex-shrink: 0;
    opacity: 0;
    transition: opacity 0.15s ease;
}

.event-detail-tag:hover .copy-btn {
    opacity: 1;
}

/* Signature section highlighting */
.signature-section {
    border: 2px solid var(--border-light);
    background: var(--bg-3);
    transition: border-color 0.3s ease, background-color 0.3s ease;
}

.signature-section.signature-valid {
    border-color: var(--success);
    background: rgba(34, 197, 94, 0.08);
}

.signature-section.signature-invalid {
    border-color: var(--error);
    background: rgba(239, 68, 68, 0.08);
}

.signature-section.signature-error {
    border-color: var(--warning);
    background: rgba(234, 179, 8, 0.08);
}

.signature-section .event-detail-section-title {
    display: flex;
    align-items: center;
    gap: 12px;
}

.signature-status {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
    text-transform: none;
    letter-spacing: 0;
}

.signature-status[data-status="pending"] {
    background: var(--bg-2);
    color: var(--text-3);
}

.signature-status[data-status="valid"] {
    background: rgba(34, 197, 94, 0.15);
    color: var(--success);
}

.signature-status[data-status="invalid"] {
    background: rgba(239, 68, 68, 0.15);
    color: var(--error);
}

.signature-status[data-status="error"] {
    background: rgba(234, 179, 8, 0.15);
    color: var(--warning);
}

.signature-status-icon {
    font-size: 12px;
}

.signature-status[data-status="pending"] .signature-status-icon {
    animation: pulse 1.5s ease-in-out infinite;
}

.signature-value {
    transition: color 0.3s ease;
}

.signature-value.signature-verified {
    color: var(--success);
}

.signature-value.signature-failed {
    color: var(--error);
}

@media (max-width: 640px) {
    .event-detail-row {
        flex-direction: column;
        gap: 4px;
    }

    .event-detail-label {
        min-width: auto;
    }

    .event-detail-tag {
        flex-wrap: wrap;
    }

    .event-detail-tag-value {
        width: 100%;
        order: 4;
        margin-top: 4px;
    }

    .signature-section .event-detail-section-title {
        flex-wrap: wrap;
    }
}

/* Fetch Timing Panel */
.fetch-timing-panel {
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 12px;
}

.fetch-timing-panel.hidden {
    display: none;
}

.fetch-timing-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border);
}

.fetch-timing-title {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-1);
}

.fetch-timing-total {
    font-family: var(--font-mono);
    font-size: 12px;
    color: var(--text-2);
    padding: 2px 8px;
    background: var(--bg-2);
    border-radius: 4px;
}

.fetch-timing-content {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.fetch-timing-row {
    display: grid;
    grid-template-columns: 1fr auto minmax(100px, 150px);
    gap: 12px;
    align-items: center;
    padding: 8px 10px;
    background: var(--bg-2);
    border-radius: 6px;
    border-left: 3px solid var(--border);
}

.fetch-timing-row.fastest {
    border-left-color: var(--success);
    background: color-mix(in srgb, var(--success) 8%, var(--bg-2));
}

.fetch-timing-row.slow {
    border-left-color: var(--warning);
    background: color-mix(in srgb, var(--warning) 5%, var(--bg-2));
}

.fetch-timing-row.error {
    border-left-color: var(--error);
    background: color-mix(in srgb, var(--error) 8%, var(--bg-2));
}

.fetch-timing-relay {
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 0;
}

.fetch-timing-url {
    font-family: var(--font-mono);
    font-size: 12px;
    color: var(--text-2);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.fetch-timing-badge {
    font-size: 10px;
    font-weight: 500;
    padding: 2px 6px;
    border-radius: 4px;
    text-transform: uppercase;
    flex-shrink: 0;
}

.fetch-timing-badge.fastest {
    background: var(--success);
    color: var(--bg-0);
}

.fetch-timing-badge.error {
    background: var(--error);
    color: white;
}

.fetch-timing-stats {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-shrink: 0;
}

.fetch-timing-events {
    font-size: 11px;
    color: var(--text-3);
}

.fetch-timing-first {
    font-family: var(--font-mono);
    font-size: 11px;
    color: var(--text-3);
}

.fetch-timing-latency {
    font-family: var(--font-mono);
    font-size: 12px;
    font-weight: 500;
    color: var(--text-1);
    min-width: 60px;
    text-align: right;
}

.fetch-timing-bar-container {
    height: 6px;
    background: var(--bg-3);
    border-radius: 3px;
    overflow: hidden;
}

.fetch-timing-bar {
    height: 100%;
    border-radius: 3px;
    background: var(--accent);
    transition: width 0.3s ease;
}

.fetch-timing-bar.fastest {
    background: var(--success);
}

.fetch-timing-bar.medium {
    background: var(--warning);
}

.fetch-timing-bar.slow {
    background: color-mix(in srgb, var(--warning) 70%, var(--error));
}

.fetch-timing-bar.error {
    background: var(--error);
}

@media (max-width: 768px) {
    .fetch-timing-row {
        grid-template-columns: 1fr;
        gap: 8px;
    }

    .fetch-timing-stats {
        justify-content: flex-start;
    }

    .fetch-timing-bar-container {
        width: 100%;
    }
}

/* Relay Counts Panel */
.relay-counts-panel {
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 12px;
}

.relay-counts-panel.hidden {
    display: none;
}

.relay-counts-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border);
}

.relay-counts-title {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-1);
}

.relay-counts-total {
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    color: var(--text-2);
    padding: 2px 8px;
    background: var(--bg-2);
    border-radius: 4px;
}

.relay-counts-content {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.relay-counts-row {
    display: grid;
    grid-template-columns: minmax(120px, 200px) 1fr 50px auto;
    gap: 12px;
    align-items: center;
    padding: 6px 8px;
    background: var(--bg-2);
    border-radius: 6px;
}

.relay-counts-row .copy-btn {
    padding: 4px 8px;
    font-size: 11px;
}

.relay-counts-url {
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
    color: var(--text-2);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.relay-counts-bar-container {
    height: 6px;
    background: var(--bg-3);
    border-radius: 3px;
    overflow: hidden;
}

.relay-counts-bar {
    height: 100%;
    border-radius: 3px;
    background: var(--accent);
    transition: width 0.3s ease;
}

.relay-counts-value {
    font-family: 'Geist Mono', monospace;
    font-size: 12px;
    font-weight: 500;
    color: var(--text-1);
    text-align: right;
}

@media (max-width: 768px) {
    .relay-counts-row {
        grid-template-columns: 1fr 60px;
    }

    .relay-counts-bar-container {
        display: none;
    }
}

/* Aggregation Panel */
.aggregation-panel {
    background: var(--bg-1);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 12px;
}

.aggregation-panel.hidden {
    display: none;
}

.aggregation-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--border);
}

.aggregation-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-0);
}

.aggregation-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 12px;
    margin-bottom: 20px;
    padding: 12px;
    background: var(--bg-2);
    border-radius: 8px;
}

.agg-stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 8px;
}

.agg-stat-value {
    font-size: 20px;
    font-weight: 600;
    color: var(--accent);
    font-family: var(--font-mono);
}

.agg-stat-label {
    font-size: 11px;
    color: var(--text-3);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-top: 4px;
}

.aggregation-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 16px;
}

.agg-section {
    background: var(--bg-2);
    border-radius: 6px;
    padding: 12px;
}

.agg-section h4 {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-1);
    margin: 0 0 10px 0;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border);
}

.agg-section-full {
    grid-column: 1 / -1;
}

.agg-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
    max-height: 200px;
    overflow-y: auto;
}

.agg-list-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 8px;
    background: var(--bg-3);
    border-radius: 4px;
    font-size: 12px;
}

.agg-list-item .copy-btn {
    padding: 4px 8px;
    font-size: 11px;
    flex-shrink: 0;
}

.agg-list-item-label {
    color: var(--text-2);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    flex: 1;
    min-width: 0;
}

.agg-list-item-label .kind-label {
    color: var(--text-3);
    font-size: 11px;
    margin-left: 6px;
}

.agg-list-item-count {
    font-family: var(--font-mono);
    font-weight: 500;
    color: var(--accent);
    flex-shrink: 0;
    margin-left: 8px;
}

.agg-list-item-bar {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1;
    min-width: 0;
}

.agg-bar-container {
    flex: 1;
    height: 6px;
    background: var(--bg-1);
    border-radius: 3px;
    overflow: hidden;
    min-width: 40px;
}

.agg-bar {
    height: 100%;
    background: var(--accent);
    border-radius: 3px;
    transition: width 0.3s ease;
}

.agg-stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
}

.agg-stats-item {
    display: flex;
    justify-content: space-between;
    padding: 6px 8px;
    background: var(--bg-3);
    border-radius: 4px;
    font-size: 12px;
}

.agg-stats-item-label {
    color: var(--text-3);
}

.agg-stats-item-value {
    font-family: var(--font-mono);
    color: var(--text-1);
}

.agg-tags-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 12px;
}

.agg-tag-group {
    background: var(--bg-3);
    border-radius: 6px;
    padding: 10px;
}

.agg-tag-group-title {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-2);
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 6px;
}

.agg-tag-group-title .tag-badge {
    padding: 2px 6px;
    background: var(--bg-1);
    border-radius: 3px;
    font-size: 10px;
    font-family: var(--font-mono);
}

.agg-tag-list {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.agg-tag-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 11px;
    padding: 4px 6px;
    background: var(--bg-1);
    border-radius: 3px;
}

.agg-tag-item .copy-btn {
    padding: 2px 6px;
    font-size: 10px;
    flex-shrink: 0;
}

.agg-tag-value {
    color: var(--text-2);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    flex: 1;
    min-width: 0;
    font-family: var(--font-mono);
}

.agg-tag-count {
    font-family: var(--font-mono);
    color: var(--accent);
    flex-shrink: 0;
    margin-left: 8px;
}

.agg-time-chart {
    display: flex;
    align-items: flex-end;
    gap: 2px;
    height: 100px;
    padding: 8px;
    background: var(--bg-3);
    border-radius: 6px;
}

.agg-time-bar {
    flex: 1;
    min-width: 4px;
    background: var(--accent);
    border-radius: 2px 2px 0 0;
    transition: height 0.3s ease;
    position: relative;
}

.agg-time-bar:hover {
    background: color-mix(in srgb, var(--accent) 80%, white);
}

.agg-time-bar:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: var(--bg-0);
    color: var(--text-1);
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 10px;
    white-space: nowrap;
    z-index: 10;
    border: 1px solid var(--border);
}

.agg-empty {
    color: var(--text-3);
    font-size: 12px;
    font-style: italic;
    text-align: center;
    padding: 20px;
}

@media (max-width: 768px) {
    .aggregation-summary {
        grid-template-columns: repeat(2, 1fr);
    }

    .aggregation-grid {
        grid-template-columns: 1fr;
    }

    .agg-tags-grid {
        grid-template-columns: 1fr;
    }
}
